{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { all, takeEvery, select, call, put } from 'redux-saga/effects';\nimport { getPageData, getPageDataSuccess, getPageDataError } from './action';\nimport { selectCurrentPage, selectPageId, selectHelperData } from './reducer'; // eslint-disable-next-line import/no-cycle\n\nimport Axios from '../services/Axios';\nimport { selectAuthorized, selectLang } from '../user/reducer';\nimport { cartSetAll } from '../cart/action';\nimport { setLocalStorageObj } from '../../constants/utils';\n\nconst getHomePageData = async lang => {\n  try {\n    const {\n      data: {\n        result: {\n          rows: orders\n        }\n      }\n    } = await Axios.request({\n      url: '/api/product/sliders',\n      method: 'get'\n    });\n    const {\n      data: {\n        result\n      }\n    } = await Axios.request({\n      url: '/api/product/homePage',\n      method: 'post',\n      data: {\n        lang\n      }\n    });\n    const homePageData = [];\n    const newHomePageData = [];\n    const {\n      ExtraProducts\n    } = result;\n    delete result.ExtraProducts;\n    const resultKeys = Object.keys(result);\n    orders.forEach((currentOrder, index) => {\n      let data = {};\n      resultKeys.forEach(key => {\n        if (result[key].sliderId === currentOrder.id) {\n          data = result[key];\n        }\n      });\n      ExtraProducts.forEach(extra => {\n        if (extra.sliderId === currentOrder.id) {\n          data = extra;\n        }\n      });\n      homePageData[currentOrder.order || 100 * index] = _objectSpread(_objectSpread({}, currentOrder), data);\n    });\n    homePageData.forEach(dataItem => {\n      if (dataItem) newHomePageData.push(dataItem);\n    });\n    return newHomePageData;\n  } catch (error) {\n    return [];\n  }\n};\n\nconst getProfilePageData = async () => ({\n  myOrders: [],\n  viewedProducts: [],\n  untilNextBonusPercent: 50000,\n  nextBonusPercent: 3\n});\n\nconst getOneProductData = async (lang, id) => {\n  const {\n    data: {\n      result\n    }\n  } = await Axios.request({\n    method: 'post',\n    url: `/api/product/${id}`,\n    data: {\n      id,\n      lang\n    }\n  });\n  return {\n    result\n  };\n};\n\nfunction* changeUserCart(products) {\n  yield call(Axios.request, {\n    method: 'post',\n    url: '/api/user/addWish/byIds',\n    data: {\n      type: 'cart',\n      products\n    }\n  });\n}\n\nfunction* getCartPageData({\n  lang,\n  cart\n}) {\n  const ids = Object.keys(cart);\n  const {\n    data: {\n      result: cartData\n    }\n  } = yield call(Axios.request, {\n    url: '/api/product/byIds',\n    data: {\n      lang,\n      ids\n    },\n    method: 'post'\n  });\n\n  if (ids.length !== cartData.length) {\n    const isAuth = yield select(selectAuthorized);\n    const newCart = {};\n    cartData.forEach(({\n      id\n    }) => {\n      newCart[id] = _objectSpread({}, cart[id]);\n    });\n    yield put(cartSetAll({\n      cart: newCart\n    }));\n    setLocalStorageObj('cart', newCart);\n\n    if (isAuth) {\n      yield call(changeUserCart, Object.keys(newCart).map(key => newCart[key]));\n    }\n  }\n\n  const {\n    data: {\n      result: bugsData\n    }\n  } = yield call(Axios.request, {\n    url: '/api/product/bugs',\n    data: {\n      lang\n    },\n    method: 'post'\n  });\n  return {\n    cartData,\n    bugsData\n  };\n}\n\nconst getVacancyPageData = async ({\n  lang\n}) => {\n  const res = await Axios.request({\n    url: '/api/vocation/',\n    data: {\n      lang\n    },\n    method: 'post'\n  });\n  return res;\n};\n\nfunction* getDataByPage({\n  page,\n  lang,\n  id,\n  data\n}) {\n  if (page === 'home') {\n    const res = yield call(getHomePageData, lang);\n    return res;\n  }\n\n  if (page === 'profile') {\n    const res = yield call(getProfilePageData, lang);\n    return res;\n  }\n\n  if (page === 'oneProduct') {\n    const res = yield call(getOneProductData, lang, id);\n    return res;\n  }\n\n  if (page === 'cart') {\n    const res = yield call(getCartPageData, {\n      lang,\n      cart: data.cart\n    });\n    return res;\n  }\n\n  if (page === 'vacancy') {\n    const {\n      data: {\n        result\n      }\n    } = yield call(getVacancyPageData, {\n      lang\n    });\n    return result;\n  }\n\n  return null;\n}\n\nfunction* workGetPageData(action) {\n  try {\n    const {\n      payload: {\n        page,\n        id,\n        data\n      }\n    } = action;\n    const lang = yield select(selectLang);\n    const currentId = id || (yield select(selectPageId));\n    const currentPage = page || (yield select(selectCurrentPage));\n    const helperData = data || (yield select(selectHelperData)) || null;\n    const res = yield call(getDataByPage, {\n      page: currentPage,\n      lang,\n      id: currentId,\n      data: helperData\n    });\n    yield put(getPageDataSuccess({\n      data: res,\n      page: currentPage,\n      id: currentId,\n      helperData\n    }));\n  } catch (error) {\n    yield put(getPageDataError());\n  }\n}\n\nfunction* watchGetPageData() {\n  yield takeEvery(getPageData, workGetPageData);\n}\n\nexport default function* () {\n  yield all([watchGetPageData()]);\n}","map":{"version":3,"sources":["/var/www/mankan-front/store/pages-data/saga.js"],"names":["all","takeEvery","select","call","put","getPageData","getPageDataSuccess","getPageDataError","selectCurrentPage","selectPageId","selectHelperData","Axios","selectAuthorized","selectLang","cartSetAll","setLocalStorageObj","getHomePageData","lang","data","result","rows","orders","request","url","method","homePageData","newHomePageData","ExtraProducts","resultKeys","Object","keys","forEach","currentOrder","index","key","sliderId","id","extra","order","dataItem","push","error","getProfilePageData","myOrders","viewedProducts","untilNextBonusPercent","nextBonusPercent","getOneProductData","changeUserCart","products","type","getCartPageData","cart","ids","cartData","length","isAuth","newCart","map","bugsData","getVacancyPageData","res","getDataByPage","page","workGetPageData","action","payload","currentId","currentPage","helperData","watchGetPageData"],"mappings":"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","sourcesContent":["import {\n  all, takeEvery, select, call, put,\n} from 'redux-saga/effects';\nimport { getPageData, getPageDataSuccess, getPageDataError } from './action';\nimport { selectCurrentPage, selectPageId, selectHelperData } from './reducer';\n// eslint-disable-next-line import/no-cycle\nimport Axios from '../services/Axios';\nimport { selectAuthorized, selectLang } from '../user/reducer';\nimport { cartSetAll } from '../cart/action';\nimport { setLocalStorageObj } from '../../constants/utils';\n\n\nconst getHomePageData = async (lang) => {\n  try {\n    const { data: { result: { rows: orders } } } = await Axios.request({\n      url: '/api/product/sliders',\n      method: 'get',\n    });\n    const { data: { result } } = await Axios.request({\n      url: '/api/product/homePage',\n      method: 'post',\n      data: { lang },\n    });\n    const homePageData = [];\n    const newHomePageData = [];\n\n    const { ExtraProducts } = result;\n    delete result.ExtraProducts;\n    const resultKeys = Object.keys(result);\n\n    orders.forEach((currentOrder, index) => {\n      let data = {};\n      resultKeys.forEach((key) => {\n        if (result[key].sliderId === currentOrder.id) {\n          data = result[key];\n        }\n      });\n\n      ExtraProducts.forEach((extra) => {\n        if (extra.sliderId === currentOrder.id) {\n          data = extra;\n        }\n      });\n      homePageData[currentOrder.order || 100 * index] = { ...currentOrder, ...data };\n    });\n\n    homePageData.forEach((dataItem) => {\n      if (dataItem) newHomePageData.push(dataItem);\n    });\n    return newHomePageData;\n  } catch (error) {\n    return [];\n  }\n};\n\nconst getProfilePageData = async () => ({\n  myOrders: [],\n  viewedProducts: [],\n  untilNextBonusPercent: 50000,\n  nextBonusPercent: 3,\n});\n\nconst getOneProductData = async (lang, id) => {\n  const { data: { result } } = await Axios.request({\n    method: 'post',\n    url: `/api/product/${id}`,\n    data: { id, lang },\n  });\n\n  return { result };\n};\n\nfunction* changeUserCart(products) {\n  yield call(Axios.request, {\n    method: 'post',\n    url: '/api/user/addWish/byIds',\n    data: {\n      type: 'cart',\n      products,\n    },\n  });\n}\n\nfunction* getCartPageData({ lang, cart }) {\n  const ids = Object.keys(cart);\n\n  const { data: { result: cartData } } = yield call(Axios.request, {\n    url: '/api/product/byIds',\n    data: { lang, ids },\n    method: 'post',\n  });\n  if (ids.length !== cartData.length) {\n    const isAuth = yield select(selectAuthorized);\n    const newCart = {};\n    cartData.forEach(({ id }) => {\n      newCart[id] = { ...cart[id] };\n    });\n    yield put(cartSetAll({ cart: newCart }));\n    setLocalStorageObj('cart', newCart);\n    if (isAuth) {\n      yield call(changeUserCart, Object.keys(newCart).map((key) => newCart[key]));\n    }\n  }\n\n  const { data: { result: bugsData } } = yield call(Axios.request, {\n    url: '/api/product/bugs',\n    data: { lang },\n    method: 'post',\n  });\n  return { cartData, bugsData };\n}\n\nconst getVacancyPageData = async ({ lang }) => {\n  const res = await Axios.request({\n    url: '/api/vocation/',\n    data: { lang },\n    method: 'post',\n  });\n  return res;\n};\n\nfunction* getDataByPage({\n  page, lang, id, data,\n}) {\n  if (page === 'home') {\n    const res = yield call(getHomePageData, lang);\n    return res;\n  }\n  if (page === 'profile') {\n    const res = yield call(getProfilePageData, lang);\n    return res;\n  }\n  if (page === 'oneProduct') {\n    const res = yield call(getOneProductData, lang, id);\n\n    return res;\n  }\n  if (page === 'cart') {\n    const res = yield call(getCartPageData, { lang, cart: data.cart });\n\n    return res;\n  }\n\n  if (page === 'vacancy') {\n    const { data: { result } } = yield call(getVacancyPageData, { lang });\n\n    return result;\n  }\n\n  return null;\n}\n\nfunction* workGetPageData(action) {\n  try {\n    const { payload: { page, id, data } } = action;\n\n    const lang = yield select(selectLang);\n    const currentId = id || (yield select(selectPageId));\n    const currentPage = page || (yield select(selectCurrentPage));\n\n    const helperData = data || (yield select(selectHelperData)) || null;\n    const res = yield call(getDataByPage, {\n      page: currentPage, lang, id: currentId, data: helperData,\n    });\n\n    yield put(getPageDataSuccess({\n      data: res, page: currentPage, id: currentId, helperData,\n    }));\n  } catch (error) {\n    yield put(getPageDataError());\n  }\n}\n\nfunction* watchGetPageData() {\n  yield takeEvery(getPageData, workGetPageData);\n}\n\nexport default function* () {\n  yield all([\n    watchGetPageData(),\n  ]);\n}\n"]},"metadata":{},"sourceType":"module"}