{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useDispatch } from 'react-redux';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useIntl } from 'react-intl';\nimport { useRouter } from 'next/router';\nimport { getMenuListReset, getMenuList } from '../../store/menu-list/action';\nexport default _s(function () {\n  _s();\n\n  var dispatch = useDispatch();\n\n  var _useState = useState(false),\n      showMenu = _useState[0],\n      setShowMenu = _useState[1];\n\n  var _useState2 = useState(''),\n      mainHref = _useState2[0],\n      setMainHref = _useState2[1];\n\n  var _useState3 = useState(null),\n      timerId = _useState3[0],\n      setTimerId = _useState3[1];\n\n  var router = useRouter();\n  useEffect(function () {\n    var handleLinkClick = function handleLinkClick() {\n      setShowMenu(false);\n    };\n\n    router.events.on('routeChangeStart', handleLinkClick);\n    return function () {\n      router.events.off('routeChangeStart', handleLinkClick);\n    };\n  }, []);\n\n  var _useIntl = useIntl(),\n      messages = _useIntl.messages;\n\n  var onMouseEnter = useCallback(function (menuList, menuItem) {\n    clearTimeout(timerId);\n\n    if (menuList.name !== menuItem.name) {\n      setShowMenu(false);\n      dispatch(getMenuListReset());\n    }\n\n    var tId = setTimeout(function () {\n      if (menuList.name !== menuItem.name) {\n        dispatch(getMenuList({\n          name: menuItem.name,\n          messages: messages\n        }));\n      }\n\n      setMainHref(menuItem.href);\n      setShowMenu(true);\n    }, 500);\n    setTimerId(tId);\n  }, [timerId, messages]);\n  var onMouseLeave = useCallback(function () {\n    clearTimeout(timerId);\n\n    if (showMenu) {\n      setShowMenu(false);\n      dispatch(getMenuListReset());\n    }\n  }, [showMenu, timerId]);\n  return {\n    showMenu: showMenu,\n    mainHref: mainHref,\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave\n  };\n}, \"FN2Qy9AjgUFFoBxlOTDFkKUFcNU=\", false, function () {\n  return [useDispatch, useRouter, useIntl];\n});","map":{"version":3,"sources":["/var/www/mankan-front/components/header/useHoverHeader.js"],"names":["useDispatch","useCallback","useEffect","useState","useIntl","useRouter","getMenuListReset","getMenuList","dispatch","showMenu","setShowMenu","mainHref","setMainHref","timerId","setTimerId","router","handleLinkClick","events","on","off","messages","onMouseEnter","menuList","menuItem","clearTimeout","name","tId","setTimeout","href","onMouseLeave"],"mappings":";;AAAA,SAASA,WAAT,QAA4B,aAA5B;AACA,SAASC,WAAT,EAAsBC,SAAtB,EAAiCC,QAAjC,QAAiD,OAAjD;AACA,SAASC,OAAT,QAAwB,YAAxB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,gBAAT,EAA2BC,WAA3B,QAA8C,8BAA9C;AAEA,kBAAe,YAAM;AAAA;;AACnB,MAAMC,QAAQ,GAAGR,WAAW,EAA5B;;AADmB,kBAEaG,QAAQ,CAAC,KAAD,CAFrB;AAAA,MAEZM,QAFY;AAAA,MAEFC,WAFE;;AAAA,mBAGaP,QAAQ,CAAC,EAAD,CAHrB;AAAA,MAGZQ,QAHY;AAAA,MAGFC,WAHE;;AAAA,mBAIWT,QAAQ,CAAC,IAAD,CAJnB;AAAA,MAIZU,OAJY;AAAA,MAIHC,UAJG;;AAKnB,MAAMC,MAAM,GAAGV,SAAS,EAAxB;AAGAH,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMc,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5BN,MAAAA,WAAW,CAAC,KAAD,CAAX;AACD,KAFD;;AAGAK,IAAAA,MAAM,CAACE,MAAP,CAAcC,EAAd,CAAiB,kBAAjB,EAAqCF,eAArC;AAEA,WAAO,YAAM;AACXD,MAAAA,MAAM,CAACE,MAAP,CAAcE,GAAd,CAAkB,kBAAlB,EAAsCH,eAAtC;AACD,KAFD;AAGD,GATQ,EASN,EATM,CAAT;;AARmB,iBAmBEZ,OAAO,EAnBT;AAAA,MAmBXgB,QAnBW,YAmBXA,QAnBW;;AAoBnB,MAAMC,YAAY,GAAGpB,WAAW,CAAC,UAACqB,QAAD,EAAWC,QAAX,EAAwB;AACvDC,IAAAA,YAAY,CAACX,OAAD,CAAZ;;AACA,QAAIS,QAAQ,CAACG,IAAT,KAAkBF,QAAQ,CAACE,IAA/B,EAAqC;AACnCf,MAAAA,WAAW,CAAC,KAAD,CAAX;AACAF,MAAAA,QAAQ,CAACF,gBAAgB,EAAjB,CAAR;AACD;;AACD,QAAMoB,GAAG,GAAGC,UAAU,CAAC,YAAM;AAC3B,UAAIL,QAAQ,CAACG,IAAT,KAAkBF,QAAQ,CAACE,IAA/B,EAAqC;AACnCjB,QAAAA,QAAQ,CAACD,WAAW,CAAC;AAAEkB,UAAAA,IAAI,EAAEF,QAAQ,CAACE,IAAjB;AAAuBL,UAAAA,QAAQ,EAARA;AAAvB,SAAD,CAAZ,CAAR;AACD;;AACDR,MAAAA,WAAW,CAACW,QAAQ,CAACK,IAAV,CAAX;AACAlB,MAAAA,WAAW,CAAC,IAAD,CAAX;AACD,KANqB,EAMnB,GANmB,CAAtB;AAOAI,IAAAA,UAAU,CAACY,GAAD,CAAV;AACD,GAd+B,EAc7B,CAACb,OAAD,EAAUO,QAAV,CAd6B,CAAhC;AAgBA,MAAMS,YAAY,GAAG5B,WAAW,CAC9B,YAAM;AACJuB,IAAAA,YAAY,CAACX,OAAD,CAAZ;;AACA,QAAIJ,QAAJ,EAAc;AACZC,MAAAA,WAAW,CAAC,KAAD,CAAX;AACAF,MAAAA,QAAQ,CAACF,gBAAgB,EAAjB,CAAR;AACD;AACF,GAP6B,EAO3B,CAACG,QAAD,EAAWI,OAAX,CAP2B,CAAhC;AAUA,SAAO;AACLJ,IAAAA,QAAQ,EAARA,QADK;AACKE,IAAAA,QAAQ,EAARA,QADL;AACeU,IAAAA,YAAY,EAAZA,YADf;AAC6BQ,IAAAA,YAAY,EAAZA;AAD7B,GAAP;AAGD,CAjDD;AAAA,UACmB7B,WADnB,EAKiBK,SALjB,EAmBuBD,OAnBvB;AAAA","sourcesContent":["import { useDispatch } from 'react-redux';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useIntl } from 'react-intl';\nimport { useRouter } from 'next/router';\nimport { getMenuListReset, getMenuList } from '../../store/menu-list/action';\n\nexport default () => {\n  const dispatch = useDispatch();\n  const [showMenu, setShowMenu] = useState(false);\n  const [mainHref, setMainHref] = useState('');\n  const [timerId, setTimerId] = useState(null);\n  const router = useRouter();\n\n\n  useEffect(() => {\n    const handleLinkClick = () => {\n      setShowMenu(false);\n    };\n    router.events.on('routeChangeStart', handleLinkClick);\n\n    return () => {\n      router.events.off('routeChangeStart', handleLinkClick);\n    };\n  }, []);\n\n  const { messages } = useIntl();\n  const onMouseEnter = useCallback((menuList, menuItem) => {\n    clearTimeout(timerId);\n    if (menuList.name !== menuItem.name) {\n      setShowMenu(false);\n      dispatch(getMenuListReset());\n    }\n    const tId = setTimeout(() => {\n      if (menuList.name !== menuItem.name) {\n        dispatch(getMenuList({ name: menuItem.name, messages }));\n      }\n      setMainHref(menuItem.href);\n      setShowMenu(true);\n    }, 500);\n    setTimerId(tId);\n  }, [timerId, messages]);\n\n  const onMouseLeave = useCallback(\n    () => {\n      clearTimeout(timerId);\n      if (showMenu) {\n        setShowMenu(false);\n        dispatch(getMenuListReset());\n      }\n    }, [showMenu, timerId],\n  );\n\n  return {\n    showMenu, mainHref, onMouseEnter, onMouseLeave,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}