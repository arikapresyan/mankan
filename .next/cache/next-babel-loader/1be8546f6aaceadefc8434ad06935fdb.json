{"ast":null,"code":"import { all, takeLatest, call, put, select, delay } from 'redux-saga/effects';\nimport { searchProduct, searchProductError, searchProductSuccess } from './action';\nimport Axios from '../services/Axios';\nimport { selectLang } from '../user/reducer';\n\nfunction getSearchedProductsRequest({\n  searchWord,\n  lang\n}) {\n  return Axios.request({\n    method: 'post',\n    url: '/api/product/homePage/search',\n    data: {\n      searchWord,\n      lang\n    }\n  });\n}\n\nfunction* workSearchProduct({\n  payload: {\n    searchWord\n  }\n}) {\n  yield delay(200);\n  const lang = yield select(selectLang);\n\n  try {\n    const {\n      data: {\n        result\n      }\n    } = yield call(getSearchedProductsRequest, {\n      searchWord,\n      lang\n    });\n    yield put(searchProductSuccess({\n      data: result\n    }));\n  } catch (error) {\n    yield put(searchProductError());\n  }\n}\n\nfunction* watchSearchProduct() {\n  yield takeLatest(searchProduct, workSearchProduct);\n}\n\nexport default function* () {\n  yield all([watchSearchProduct()]);\n}","map":{"version":3,"sources":["/var/www/mankan-front/store/search/saga.js"],"names":["all","takeLatest","call","put","select","delay","searchProduct","searchProductError","searchProductSuccess","Axios","selectLang","getSearchedProductsRequest","searchWord","lang","request","method","url","data","workSearchProduct","payload","result","error","watchSearchProduct"],"mappings":"AAAA,SACEA,GADF,EACOC,UADP,EACmBC,IADnB,EACyBC,GADzB,EAC8BC,MAD9B,EACqCC,KADrC,QAEO,oBAFP;AAIA,SACEC,aADF,EAEEC,kBAFF,EAGEC,oBAHF,QAIO,UAJP;AAKA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,SAASC,UAAT,QAA2B,iBAA3B;;AAEA,SAASC,0BAAT,CAAoC;AAAEC,EAAAA,UAAF;AAAcC,EAAAA;AAAd,CAApC,EAA0D;AACxD,SAAOJ,KAAK,CAACK,OAAN,CAAc;AACnBC,IAAAA,MAAM,EAAE,MADW;AAEnBC,IAAAA,GAAG,EAAE,8BAFc;AAGnBC,IAAAA,IAAI,EAAE;AAAEL,MAAAA,UAAF;AAAcC,MAAAA;AAAd;AAHa,GAAd,CAAP;AAKD;;AAED,UAAUK,iBAAV,CAA4B;AAAEC,EAAAA,OAAO,EAAE;AAAEP,IAAAA;AAAF;AAAX,CAA5B,EAAyD;AACvD,QAAMP,KAAK,CAAC,GAAD,CAAX;AACA,QAAMQ,IAAI,GAAG,MAAMT,MAAM,CAACM,UAAD,CAAzB;;AACA,MAAI;AACF,UAAM;AAAEO,MAAAA,IAAI,EAAE;AAAEG,QAAAA;AAAF;AAAR,QAAuB,MAAMlB,IAAI,CAACS,0BAAD,EAA6B;AAAEC,MAAAA,UAAF;AAAcC,MAAAA;AAAd,KAA7B,CAAvC;AACA,UAAMV,GAAG,CAACK,oBAAoB,CAAC;AAAES,MAAAA,IAAI,EAAEG;AAAR,KAAD,CAArB,CAAT;AACD,GAHD,CAGE,OAAOC,KAAP,EAAc;AACd,UAAMlB,GAAG,CAACI,kBAAkB,EAAnB,CAAT;AACD;AACF;;AAGD,UAAUe,kBAAV,GAA+B;AAC7B,QAAMrB,UAAU,CAACK,aAAD,EAAgBY,iBAAhB,CAAhB;AACD;;AACD,eAAe,aAAa;AAC1B,QAAMlB,GAAG,CAAC,CAACsB,kBAAkB,EAAnB,CAAD,CAAT;AACD","sourcesContent":["import {\n  all, takeLatest, call, put, select,delay\n} from 'redux-saga/effects';\n\nimport {\n  searchProduct,\n  searchProductError,\n  searchProductSuccess,\n} from './action';\nimport Axios from '../services/Axios';\nimport { selectLang } from '../user/reducer';\n\nfunction getSearchedProductsRequest({ searchWord, lang }) {\n  return Axios.request({\n    method: 'post',\n    url: '/api/product/homePage/search',\n    data: { searchWord, lang },\n  });\n}\n\nfunction* workSearchProduct({ payload: { searchWord } }) {\n  yield delay(200);\n  const lang = yield select(selectLang);\n  try {\n    const { data: { result } } = yield call(getSearchedProductsRequest, { searchWord, lang });\n    yield put(searchProductSuccess({ data: result }));\n  } catch (error) {\n    yield put(searchProductError());\n  }\n}\n\n\nfunction* watchSearchProduct() {\n  yield takeLatest(searchProduct, workSearchProduct);\n}\nexport default function* () {\n  yield all([watchSearchProduct()]);\n}\n"]},"metadata":{},"sourceType":"module"}