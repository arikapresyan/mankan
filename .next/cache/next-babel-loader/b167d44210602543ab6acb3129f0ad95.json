{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable no-return-assign */\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport { map, first } from 'lodash';\nimport React, { Component } from 'react';\nimport nextId from 'react-id-generator';\nimport ArrowIcon from '../../../assets/images/icons/arrow.png'; // TODO: change to function component\n\nvar ProductThumbnailSlider =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ProductThumbnailSlider, _Component);\n\n  function ProductThumbnailSlider(props) {\n    var _this;\n\n    _classCallCheck(this, ProductThumbnailSlider);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProductThumbnailSlider).call(this, props));\n    _this.renderImages = _this.renderImages.bind(_assertThisInitialized(_this));\n    _this.handleOnUp = _this.handleOnUp.bind(_assertThisInitialized(_this));\n    _this.handleOnDown = _this.handleOnDown.bind(_assertThisInitialized(_this));\n    _this.handleOnPreview = _this.handleOnPreview.bind(_assertThisInitialized(_this));\n    var _this$props$images = _this.props.images,\n        images = _this$props$images === void 0 ? [] : _this$props$images;\n    var idImagesArray = images.map(function (image) {\n      return {\n        url: image,\n        id: nextId()\n      };\n    });\n    _this.state = {\n      images: idImagesArray,\n      start: 0,\n      finish: 3,\n      selectedItem: null\n    };\n    return _this;\n  }\n\n  _createClass(ProductThumbnailSlider, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // TODO Check when Backend Api was done\n      var onPreviewImage = this.props.onPreviewImage;\n      var images = this.state.images;\n      this.setState({\n        selectedItem: first(images)\n      }, function () {\n        onPreviewImage(first(images));\n      });\n    }\n  }, {\n    key: \"handleOnUp\",\n    value: function handleOnUp() {\n      this.setState(function (prevState) {\n        return _objectSpread({}, prevState, {\n          start: prevState.start += 1,\n          finish: prevState.finish += 1\n        });\n      });\n    }\n  }, {\n    key: \"handleOnDown\",\n    value: function handleOnDown() {\n      this.setState(function (prevState) {\n        return _objectSpread({}, prevState, {\n          start: prevState.start -= 1,\n          finish: prevState.finish -= 1\n        });\n      });\n    }\n  }, {\n    key: \"handleOnPreview\",\n    value: function handleOnPreview(item) {\n      var onPreviewImage = this.props.onPreviewImage;\n      this.setState({\n        selectedItem: item\n      }, function () {\n        onPreviewImage(item);\n      });\n    }\n  }, {\n    key: \"renderImages\",\n    value: function renderImages() {\n      var _this$state = this.state,\n          start = _this$state.start,\n          finish = _this$state.finish,\n          images = _this$state.images;\n      var visibleImages = images.filter(function (item, index) {\n        return index >= start && index <= finish;\n      });\n      return visibleImages;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _ref = this.state || {},\n          images = _ref.images,\n          start = _ref.start,\n          finish = _ref.finish,\n          selectedItem = _ref.selectedItem;\n\n      var validationForUp = finish + 1 < images.length;\n      var validationForDown = start - 1 >= 0;\n      return __jsx(\"div\", {\n        className: \"thumbnail_slider\"\n      }, validationForUp && __jsx(\"span\", {\n        className: \"prev\",\n        onClick: this.handleOnUp\n      }, __jsx(\"img\", {\n        src: ArrowIcon,\n        alt: \"\"\n      })), __jsx(\"div\", {\n        className: \"thumbnail_image_list\"\n      }, images.length > 0 && map(this.renderImages(), function (item, index) {\n        return __jsx(\"div\", {\n          className: \"thumb_image\",\n          key: index,\n          style: selectedItem && item.id === selectedItem.id ? {\n            border: '3px solid red'\n          } : {}\n        }, __jsx(\"img\", {\n          src: item.url,\n          alt: \"\",\n          onClick: function onClick() {\n            return _this2.handleOnPreview(item);\n          }\n        }));\n      })), validationForDown && __jsx(\"span\", {\n        className: \"next\",\n        onClick: this.handleOnDown\n      }, __jsx(\"img\", {\n        src: ArrowIcon,\n        alt: \"\"\n      })));\n    }\n  }]);\n\n  return ProductThumbnailSlider;\n}(Component);\n\nexport default ProductThumbnailSlider;","map":null,"metadata":{},"sourceType":"module"}