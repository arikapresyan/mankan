{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect, useMemo } from 'react';\nimport Menu from 'antd/lib/menu';\nimport Icon from 'antd/lib/icon';\nimport Link from 'next/link';\nimport { connect } from 'react-redux';\nimport { useIntl } from 'react-intl';\nimport { hideAll } from '../../../store/userEventListeners/action';\nvar SubMenu = Menu.SubMenu;\n\nfunction CategorySubmenu(_ref) {\n  var hideAllAction = _ref.hideAllAction,\n      mobyleSubmenuInfo = _ref.globalInformationRouter.mobyle_submenu_info,\n      menuList = _ref.menuList;\n\n  var _ref2 = mobyleSubmenuInfo || {},\n      subType = _ref2.subType,\n      href = _ref2.href;\n\n  var _useState = useState([]),\n      openKeys = _useState[0],\n      setOpenKeys = _useState[1];\n\n  var subKey = \"mobile_sub_filters\".concat(subType);\n  useEffect(function () {\n    setOpenKeys([subKey]);\n  }, [subType]);\n\n  var _useIntl = useIntl(),\n      messages = _useIntl.messages;\n\n  var productsObject = menuList.data; // type age brand meaning\n\n  var subMenuArray = useMemo(function () {\n    return productsObject ? [{\n      headingName: messages['local.type'],\n      products: productsObject.type,\n      linkPart: 'type'\n    }, {\n      headingName: messages['local.age'],\n      products: productsObject.age.map(function (_ref3) {\n        var name = _ref3.name,\n            text = _ref3.text,\n            id = _ref3.id;\n        return {\n          id: id,\n          name: \"\".concat(name, \" \").concat(messages['local.years']),\n          text: \"\".concat(text, \" \").concat(messages['local.years'])\n        };\n      }),\n      linkPart: 'age'\n    }, {\n      headingName: messages['local.brand'],\n      products: productsObject.brand,\n      linkPart: 'brand'\n    }, {\n      headingName: messages['local.meaning'],\n      products: productsObject.meaning,\n      linkPart: 'meaning'\n    }] : [];\n  }, [productsObject, messages]);\n\n  var closeAllSideBars = function closeAllSideBars() {\n    hideAllAction();\n  };\n\n  return __jsx(\"div\", {\n    className: \"subcategory_menu\"\n  }, menuList.loading ? 'loading' : __jsx(Menu, {\n    onOpenChange: setOpenKeys,\n    mode: \"inline\",\n    openKeys: openKeys\n  }, __jsx(Menu.Item, {\n    key: \"1\",\n    onClick: closeAllSideBars\n  }, __jsx(Link, {\n    href: \"/catalog\".concat(href || '')\n  }, __jsx(\"a\", null, messages['local.all_of']))), subMenuArray.map(function (_ref4, parentIndex) {\n    var products = _ref4.products,\n        headingName = _ref4.headingName,\n        linkPart = _ref4.linkPart;\n    return __jsx(SubMenu, {\n      key: \"mobile_sub_filters\".concat(linkPart),\n      title: __jsx(\"span\", null, __jsx(\"span\", {\n        className: \"cat_name\"\n      }, headingName), __jsx(Icon, {\n        className: \"arrow_icon\",\n        type: \"right\"\n      }))\n    }, subType && products.map(function (product, index) {\n      return __jsx(Menu.Item, {\n        key: \"mobile_sub_filters\".concat(linkPart).concat(parentIndex, \".\").concat(index)\n      }, __jsx(Link, {\n        href: \"catalog\".concat(href ? \"\".concat(href, \"&\") : '?').concat(linkPart, \"=\").concat(product.id)\n      }, __jsx(\"a\", {\n        onClick: hideAllAction\n      }, product.name)));\n    }));\n  })));\n}\n\nfunction mapStateToProps(_ref5) {\n  var globalInformationRouter = _ref5.globalInformationRouter,\n      menuList = _ref5.menuList;\n  return {\n    globalInformationRouter: globalInformationRouter,\n    menuList: menuList\n  };\n}\n\nexport default connect(mapStateToProps, {\n  hideAllAction: hideAll\n})(CategorySubmenu);","map":null,"metadata":{},"sourceType":"module"}