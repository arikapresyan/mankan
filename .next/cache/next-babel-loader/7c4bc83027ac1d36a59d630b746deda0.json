{"ast":null,"code":"var _jsxFileName = \"/var/www/mankan-front/components/mobile/category-menu-mobile/CategorySubmenuMobile.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useMemo } from 'react';\nimport Menu from 'antd/lib/menu';\nimport Icon from 'antd/lib/icon';\nimport Link from 'next/link';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { useIntl } from 'react-intl';\nimport { hideAll } from '../../../store/userEventListeners/action';\nconst {\n  SubMenu\n} = Menu;\n\nfunction CategorySubmenu({\n  hideAllAction,\n  globalInformationRouter: {\n    mobyle_submenu_info: mobyleSubmenuInfo\n  },\n  menuList\n}) {\n  const {\n    subType,\n    href\n  } = mobyleSubmenuInfo || {};\n  const {\n    0: openKeys,\n    1: setOpenKeys\n  } = useState([]);\n  const subKey = `mobile_sub_filters${subType}`;\n  useEffect(() => {\n    setOpenKeys([subKey]);\n  }, [subType]);\n  const {\n    messages\n  } = useIntl();\n  const productsObject = menuList.data; // type age brand meaning\n\n  const subMenuArray = useMemo(() => productsObject ? [{\n    headingName: messages['local.type'],\n    products: productsObject.type,\n    linkPart: 'type'\n  }, {\n    headingName: messages['local.select_by_age'],\n    products: productsObject.age.map(({\n      name,\n      text,\n      id\n    }) => ({\n      id,\n      name: `${name} ${messages['local.years']}`,\n      text: `${text} ${messages['local.years']}`\n    })),\n    linkPart: 'age'\n  }, {\n    headingName: messages['local.select_by_brand'],\n    products: productsObject.brand,\n    linkPart: 'brand'\n  }, {\n    headingName: messages['local.meaning'],\n    products: productsObject.meaning,\n    linkPart: 'meaning'\n  }] : [], [productsObject, messages]);\n\n  const closeAllSideBars = () => {\n    hideAllAction();\n  };\n\n  return __jsx(\"div\", {\n    className: \"subcategory_menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, menuList.loading ? 'loading' : __jsx(Menu, {\n    onOpenChange: setOpenKeys,\n    mode: \"inline\",\n    openKeys: openKeys,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, __jsx(Menu.Item, {\n    key: \"1\",\n    onClick: closeAllSideBars,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, __jsx(Link, {\n    href: `/catalog${href || ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, messages['local.all_of']))), subMenuArray.map(({\n    products,\n    headingName,\n    linkPart\n  }, parentIndex) => __jsx(SubMenu, {\n    key: `mobile_sub_filters${linkPart}`,\n    title: __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 19\n      }\n    }, __jsx(\"span\", {\n      className: \"cat_name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }, headingName), __jsx(Icon, {\n      className: \"arrow_icon\",\n      type: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }, subType && products.map((product, index) => __jsx(Menu.Item, {\n    key: `mobile_sub_filters${linkPart}${parentIndex}.${index}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 19\n    }\n  }, __jsx(Link, {\n    href: `catalog${href ? `${href}&` : '?'}${linkPart}=${product.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    onClick: hideAllAction,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 23\n    }\n  }, product.name))))))));\n}\n\nCategorySubmenu.propTypes = {\n  hideAllAction: PropTypes.func,\n  globalInformationRouter: PropTypes.object,\n  menuList: PropTypes.object\n};\n\nfunction mapStateToProps({\n  globalInformationRouter,\n  menuList\n}) {\n  return {\n    globalInformationRouter,\n    menuList\n  };\n}\n\nexport default connect(mapStateToProps, {\n  hideAllAction: hideAll\n})(CategorySubmenu);","map":{"version":3,"sources":["/var/www/mankan-front/components/mobile/category-menu-mobile/CategorySubmenuMobile.js"],"names":["React","useState","useEffect","useMemo","Menu","Icon","Link","connect","PropTypes","useIntl","hideAll","SubMenu","CategorySubmenu","hideAllAction","globalInformationRouter","mobyle_submenu_info","mobyleSubmenuInfo","menuList","subType","href","openKeys","setOpenKeys","subKey","messages","productsObject","data","subMenuArray","headingName","products","type","linkPart","age","map","name","text","id","brand","meaning","closeAllSideBars","loading","parentIndex","product","index","propTypes","func","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\n\r\nimport Menu from 'antd/lib/menu';\r\nimport Icon from 'antd/lib/icon';\r\n\r\nimport Link from 'next/link';\r\n\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { useIntl } from 'react-intl';\r\nimport { hideAll } from '../../../store/userEventListeners/action';\r\n\r\n\r\nconst { SubMenu } = Menu;\r\nfunction CategorySubmenu({\r\n  hideAllAction,\r\n  globalInformationRouter:\r\n  {\r\n    mobyle_submenu_info:\r\n    mobyleSubmenuInfo,\r\n  },\r\n  menuList,\r\n}) {\r\n  const { subType, href } = (mobyleSubmenuInfo || {});\r\n  const [openKeys, setOpenKeys] = useState([]);\r\n\r\n  const subKey = `mobile_sub_filters${subType}`;\r\n\r\n  useEffect(() => {\r\n    setOpenKeys([subKey]);\r\n  }, [subType]);\r\n\r\n  const { messages } = useIntl();\r\n\r\n  const productsObject = menuList.data;\r\n\r\n  // type age brand meaning\r\n  const subMenuArray = useMemo(() => (productsObject ? [\r\n    {\r\n      headingName: messages['local.type'],\r\n      products: productsObject.type,\r\n      linkPart: 'type',\r\n    },\r\n    {\r\n      headingName: messages['local.select_by_age'],\r\n      products: productsObject.age.map(({ name, text, id }) => ({\r\n        id,\r\n        name: `${name} ${messages['local.years']}`,\r\n        text: `${text} ${messages['local.years']}`,\r\n      })),\r\n      linkPart: 'age',\r\n    },\r\n    {\r\n      headingName: messages['local.select_by_brand'],\r\n      products: productsObject.brand,\r\n      linkPart: 'brand',\r\n    },\r\n    {\r\n      headingName: messages['local.meaning'],\r\n      products: productsObject.meaning,\r\n      linkPart: 'meaning',\r\n    },\r\n  ] : []), [productsObject, messages]);\r\n\r\n\r\n  const closeAllSideBars = () => {\r\n    hideAllAction();\r\n  };\r\n  return (\r\n    <div className=\"subcategory_menu\">\r\n      {menuList.loading ? 'loading'\r\n        : (\r\n          <Menu\r\n            onOpenChange={setOpenKeys}\r\n            mode=\"inline\"\r\n            openKeys={openKeys}\r\n          >\r\n            <Menu.Item key=\"1\" onClick={closeAllSideBars}>\r\n              <Link href={`/catalog${href || ''}`}>\r\n                <a>\r\n                  {messages['local.all_of']}\r\n                </a>\r\n              </Link>\r\n            </Menu.Item>\r\n\r\n            {subMenuArray.map(({ products, headingName, linkPart }, parentIndex) => (\r\n              <SubMenu\r\n                key={`mobile_sub_filters${linkPart}`}\r\n                title={(\r\n                  <span>\r\n                    <span className=\"cat_name\">{headingName}</span>\r\n                    <Icon className=\"arrow_icon\" type=\"right\" />\r\n                  </span>\r\n                )}\r\n              >\r\n                {subType && products.map((product, index) => (\r\n                  <Menu.Item key={`mobile_sub_filters${linkPart}${parentIndex}.${index}`}>\r\n                    <Link\r\n                      href={\r\n                          `catalog${href ? `${href}&` : '?'}${linkPart}=${product.id}`\r\n                      }\r\n                    >\r\n                      <a onClick={hideAllAction}>\r\n                        {product.name}\r\n                      </a>\r\n                    </Link>\r\n                  </Menu.Item>\r\n                ))}\r\n\r\n              </SubMenu>\r\n            ))}\r\n\r\n          </Menu>\r\n        )}\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nCategorySubmenu.propTypes = {\r\n  hideAllAction: PropTypes.func,\r\n  globalInformationRouter: PropTypes.object,\r\n  menuList: PropTypes.object,\r\n};\r\n\r\nfunction mapStateToProps({ globalInformationRouter, menuList }) {\r\n  return {\r\n    globalInformationRouter,\r\n    menuList,\r\n  };\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, { hideAllAction: hideAll })(CategorySubmenu);\r\n"]},"metadata":{},"sourceType":"module"}