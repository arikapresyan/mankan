{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _handleActions;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { handleActions } from 'redux-actions';\nimport { wishlistSet, wishlistGet, wishlistItemLoading, wishlistItemError, wishlistChangeItemSuccess, wishlistPopulateLoading, wishlistPopulateError, wishlistPopulateSuccess, wishlistProductsReset, wishlistError } from './action';\nvar initialState = {\n  productIds: {},\n  products: [],\n  loading: {},\n  populateLoading: false,\n  loadWishlist: false,\n  wishlistError: false\n};\nexport default handleActions((_handleActions = {}, _defineProperty(_handleActions, wishlistSet, function (state, _ref) {\n  var _ref$payload = _ref.payload,\n      products = _ref$payload.products,\n      productIds = _ref$payload.productIds;\n  return _objectSpread(_objectSpread({}, state), {}, {\n    products: products,\n    productIds: _objectSpread({}, productIds || {}),\n    loadWishlist: false,\n    wishlistError: false\n  });\n}), _defineProperty(_handleActions, wishlistGet, function (state) {\n  return _objectSpread(_objectSpread({}, state), {}, {\n    loadWishlist: true,\n    wishlistError: false\n  });\n}), _defineProperty(_handleActions, wishlistError, function (state) {\n  return _objectSpread(_objectSpread({}, state), {}, {\n    loadWishlist: false,\n    wishlistError: true\n  });\n}), _defineProperty(_handleActions, wishlistItemLoading, function (state, _ref2) {\n  var id = _ref2.payload.id;\n  return _objectSpread(_objectSpread({}, state), {}, {\n    loading: _objectSpread(_objectSpread({}, state.loading), {}, _defineProperty({}, id, true))\n  });\n}), _defineProperty(_handleActions, wishlistChangeItemSuccess, function (state, _ref3) {\n  var _ref3$payload = _ref3.payload,\n      wishlistIds = _ref3$payload.wishlistIds,\n      wishlist = _ref3$payload.wishlist,\n      id = _ref3$payload.id;\n  return _objectSpread(_objectSpread({}, state), {}, {\n    productIds: wishlistIds,\n    wishlist: wishlist || state.wishlist,\n    loading: _objectSpread(_objectSpread({}, state.loading), {}, _defineProperty({}, id, false))\n  });\n}), _defineProperty(_handleActions, wishlistItemError, function (state, _ref4) {\n  var id = _ref4.payload.product.id;\n  return _objectSpread(_objectSpread({}, state), {}, {\n    loading: _objectSpread(_objectSpread({}, state.loading), {}, _defineProperty({}, id, false))\n  });\n}), _defineProperty(_handleActions, wishlistPopulateLoading, function (state) {\n  return _objectSpread(_objectSpread({}, state), {}, {\n    populateLoading: true\n  });\n}), _defineProperty(_handleActions, wishlistPopulateSuccess, function (state, _ref5) {\n  var wishlistIds = _ref5.payload.wishlistIds;\n  return _objectSpread(_objectSpread({}, state), {}, {\n    populateLoading: false,\n    productIds: wishlistIds\n  });\n}), _defineProperty(_handleActions, wishlistPopulateError, function (state) {\n  return _objectSpread(_objectSpread({}, state), {}, {\n    populateLoading: false\n  });\n}), _defineProperty(_handleActions, wishlistProductsReset, function (state) {\n  return _objectSpread(_objectSpread({}, state), {}, {\n    products: []\n  });\n}), _handleActions), initialState);\nexport var selectWishlistIds = function selectWishlistIds(_ref6) {\n  var productIds = _ref6.wishlist.productIds;\n  return productIds;\n};\nexport function getWishlist(_ref7) {\n  var products = _ref7.wishlist.products;\n  return products;\n}\nexport function getWishlistLength(_ref8) {\n  var productIds = _ref8.wishlist.productIds;\n  return Object.keys(productIds).length;\n}","map":{"version":3,"sources":["/var/www/mankan-front/store/wishlist/reducer.js"],"names":["handleActions","wishlistSet","wishlistGet","wishlistItemLoading","wishlistItemError","wishlistChangeItemSuccess","wishlistPopulateLoading","wishlistPopulateError","wishlistPopulateSuccess","wishlistProductsReset","wishlistError","initialState","productIds","products","loading","populateLoading","loadWishlist","state","payload","id","wishlistIds","wishlist","product","selectWishlistIds","getWishlist","getWishlistLength","Object","keys","length"],"mappings":"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","sourcesContent":["import { handleActions } from 'redux-actions';\n\nimport {\n  wishlistSet,\n  wishlistGet,\n  wishlistItemLoading,\n  wishlistItemError,\n  wishlistChangeItemSuccess,\n  wishlistPopulateLoading,\n  wishlistPopulateError,\n  wishlistPopulateSuccess,\n  wishlistProductsReset,\n  wishlistError,\n} from './action';\n\nconst initialState = {\n  productIds: {},\n  products: [],\n  loading: {},\n  populateLoading: false,\n  loadWishlist: false,\n  wishlistError: false,\n};\n\nexport default handleActions({\n  [wishlistSet]: (\n    state,\n    {\n      payload: { products, productIds },\n    },\n  ) => ({\n    ...state,\n    products,\n    productIds: {\n      ...(productIds || {}),\n    },\n    loadWishlist: false,\n    wishlistError: false,\n  }),\n  [wishlistGet]: (state) => ({\n    ...state,\n    loadWishlist: true,\n    wishlistError: false,\n  }),\n  [wishlistError]: (state) => ({\n    ...state,\n    loadWishlist: false,\n    wishlistError: true,\n  }),\n  [wishlistItemLoading]: (\n    state,\n    {\n      payload: { id },\n    },\n  ) => ({\n    ...state,\n    loading: {\n      ...state.loading,\n      [id]: true,\n    },\n  }),\n  [wishlistChangeItemSuccess]: (\n    state,\n    {\n      payload: {\n        wishlistIds,\n        wishlist,\n        id,\n      },\n    },\n  ) => ({\n    ...state,\n    productIds: wishlistIds,\n    wishlist: (wishlist || state.wishlist),\n    loading: {\n      ...state.loading,\n      [id]: false,\n    },\n  }),\n  [wishlistItemError]: (\n    state, {\n      payload: { product: { id } },\n    },\n  ) => ({\n    ...state,\n    loading: {\n      ...state.loading,\n      [id]: false,\n    },\n  }),\n  [wishlistPopulateLoading]: (state) => ({\n    ...state,\n    populateLoading: true,\n  }),\n\n  [wishlistPopulateSuccess]: (state, { payload: { wishlistIds } }) => ({\n    ...state,\n    populateLoading: false,\n    productIds: wishlistIds,\n  }),\n  [wishlistPopulateError]: (state) => ({\n    ...state,\n    populateLoading: false,\n  }),\n  [wishlistProductsReset]: (state) => ({\n    ...state,\n    products: [],\n  }),\n}, initialState);\n\n\nexport const selectWishlistIds = ({ wishlist: { productIds } }) => productIds;\n\nexport function getWishlist({ wishlist: { products } }) {\n  return products;\n}\nexport function getWishlistLength({ wishlist: { productIds } }) {\n  return Object.keys(productIds).length;\n}\n"]},"metadata":{},"sourceType":"module"}