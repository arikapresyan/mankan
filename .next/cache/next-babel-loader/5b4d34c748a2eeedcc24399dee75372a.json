{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* eslint-disable no-param-reassign */\n\n/* eslint-disable react/prop-types */\nimport React, { useState, useEffect } from 'react';\nimport Row from 'antd/lib/row';\nimport Col from 'antd/lib/col';\nimport Button from 'antd/lib/button';\nimport { connect } from 'react-redux';\nimport { useRouter } from 'next/router';\nimport { useIntl } from 'react-intl';\nimport PriceSlider from '../common/PriceSlider';\nimport ChooseAge from './ChooseAge';\nimport ChooseMeaning from './ChooseMeaning';\nimport { catalogFilterChange, catalogFilterSetValues } from '../../store/catalog-filter/action';\nimport ChooseGender from './ChooseGender';\n\nfunction ChooseGift({\n  catalogFilterSetValuesAction,\n  price,\n  getEvent\n}) {\n  const {\n    messages\n  } = useIntl();\n  const {\n    0: values,\n    1: setValues\n  } = useState({\n    price: [...price],\n    gender: [],\n    age: [],\n    meaning: [],\n    isUserFilter: true\n  });\n  const router = useRouter();\n\n  function goToCatalogWithFilterdValues() {\n    catalogFilterSetValuesAction(values);\n    router.push('/catalog');\n  }\n\n  useEffect(() => {\n    if (getEvent) {\n      getEvent.onClick = goToCatalogWithFilterdValues;\n    }\n  }, [values]);\n\n  function choseAge({\n    target\n  }) {\n    const {\n      value\n    } = target.closest('button');\n    const newValue = [];\n    if (value !== values.age[0]) newValue.push(value);\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      age: newValue\n    }));\n  }\n\n  function choseGender({\n    target: {\n      value\n    }\n  }) {\n    const newValue = [];\n    if (value !== values.gender[0]) newValue.push(value);\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      gender: newValue\n    }));\n  }\n\n  function choseMeaning(value) {\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      meaning: [value]\n    }));\n  }\n\n  function changePrice(value) {\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      price: value\n    }));\n  }\n\n  return __jsx(\"div\", {\n    id: \"choose_gift_section\"\n  }, __jsx(\"div\", {\n    className: \"heading\"\n  }, __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(\"h2\", {\n    className: \"section_title\"\n  }, messages['local.choose_gift']))), __jsx(\"div\", {\n    className: \"choose_gift_wrapper\"\n  }, __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(Row, {\n    gutter: 15\n  }, __jsx(Col, {\n    xs: 24,\n    sm: 24,\n    md: 12,\n    lg: 8,\n    xxl: 9,\n    className: \"choose_age clearfix\"\n  }, __jsx(\"h3\", null, messages['local.select_age']), __jsx(ChooseAge, {\n    onClick: choseAge,\n    selected: values.age[0]\n  })), __jsx(Col, {\n    xs: 24,\n    sm: 24,\n    md: 12,\n    lg: 4,\n    xxl: 5,\n    className: \"choose_gender clearfix\"\n  }, __jsx(\"h3\", null, messages['local.select_gender']), __jsx(ChooseGender, {\n    handelChange: choseGender,\n    selected: values.gender[0]\n  })), __jsx(PriceSlider, {\n    price: price,\n    handleChange: changePrice,\n    messages: messages,\n    mod: \"Home\"\n  }), __jsx(Col, {\n    xs: 24,\n    sm: 24,\n    md: 12,\n    lg: 6,\n    xxl: 5,\n    className: \"meaning clearfix\"\n  }, __jsx(\"h3\", null, messages['local.meaning']), __jsx(ChooseMeaning, {\n    handleChange: choseMeaning\n  }), __jsx(\"a\", {\n    onClick: goToCatalogWithFilterdValues\n  }, __jsx(Button, {\n    type: \"primary\"\n  }, messages['local.search'])))))));\n}\n\nfunction pamStateToProps({\n  catalogFilter: {\n    price,\n    gender\n  }\n}) {\n  return {\n    price,\n    gender\n  };\n}\n\nexport default connect(pamStateToProps, {\n  catalogFilterChangeAction: catalogFilterChange,\n  catalogFilterSetValuesAction: catalogFilterSetValues\n})(ChooseGift);","map":null,"metadata":{},"sourceType":"module"}