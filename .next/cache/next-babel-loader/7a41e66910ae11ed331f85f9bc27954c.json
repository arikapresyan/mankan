{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar _jsxFileName = \"/var/www/mankan-front/App.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useMemo, useState } from 'react';\nimport Head from 'next/head';\nimport dynamic from 'next/dynamic';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useRouter } from 'next/router';\nimport { IntlProvider } from 'react-intl';\nimport CategoryMenuMobile from './components/mobile/category-menu-mobile/CategoryMenuContent';\nimport CategorySubmenuMobile from './components/mobile/category-menu-mobile/CategorySubmenuContent';\nimport FilterListSidebar from './components/mobile/filter-list-sidebar/FilterListWrapper';\nimport messages from './staticText/messages';\nimport PagesLoader from './components/pages-loader/PagesLoader';\nimport { resetCatalogFilterReducer } from './store/catalog-filter/action';\nimport { hideAll } from './store/userEventListeners/action';\nimport { resetPageData } from './store/pages-data/action';\nimport { getTextFromPath } from './components/common/constants';\nvar BuyProductModal = dynamic(_c = function _c() {\n  return import('./components/modals/buy-product-modal/BuyProductModal');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./components/modals/buy-product-modal/BuyProductModal')];\n    },\n    modules: ['./components/modals/buy-product-modal/BuyProductModal']\n  }\n});\n_c2 = BuyProductModal;\nvar SiteHeader = dynamic(_c3 = function _c3() {\n  return import('./layout/header/SiteHeader');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./layout/header/SiteHeader')];\n    },\n    modules: ['./layout/header/SiteHeader']\n  }\n});\n_c4 = SiteHeader;\nvar MobileMenuBar = dynamic(_c5 = function _c5() {\n  return import('./layout/mobile-menu/MobileMenuBar');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./layout/mobile-menu/MobileMenuBar')];\n    },\n    modules: ['./layout/mobile-menu/MobileMenuBar']\n  }\n});\n_c6 = MobileMenuBar;\nvar SiteFooter = dynamic(_c7 = function _c7() {\n  return import('./layout/footer/SiteFooter');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./layout/footer/SiteFooter')];\n    },\n    modules: ['./layout/footer/SiteFooter']\n  }\n});\n_c8 = SiteFooter;\n\nfunction App(_ref) {\n  _s();\n\n  var Component = _ref.Component,\n      pageProps = _ref.pageProps,\n      lang = _ref.lang,\n      hideAllAction = _ref.hideAllAction,\n      resetPageDataAction = _ref.resetPageDataAction;\n  var router = useRouter();\n  var pathname = router.pathname;\n  var title = useMemo(function () {\n    return getTextFromPath(pathname, messages[lang]) || 'Mankan';\n  }, [lang, pathname]);\n\n  var _useState = useState(false),\n      isPageLoading = _useState[0],\n      setIsPageLoading = _useState[1];\n\n  useEffect(function () {\n    router.events.on('routeChangeStart', function (route) {\n      if (route !== '/cart') resetPageDataAction();\n      window.scrollTo(0, 0);\n      setIsPageLoading(true);\n      hideAllAction();\n    });\n    router.events.on('routeChangeComplete', function () {\n      setIsPageLoading(false);\n    });\n  }, []);\n  return __jsx(IntlProvider, {\n    locale: \"en\",\n    defaultLocale: \"ARM\",\n    messages: messages[lang],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, title)), __jsx(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, __jsx(BuyProductModal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }), __jsx(SiteHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }), __jsx(MobileMenuBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }), __jsx(FilterListSidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }), __jsx(CategorySubmenuMobile, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }), __jsx(CategoryMenuMobile, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }), isPageLoading ? __jsx(PagesLoader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 26\n    }\n  }) : null, __jsx(\"div\", {\n    style: isPageLoading ? {\n      display: 'none'\n    } : {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, __jsx(Component, _extends({}, pageProps, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }))), __jsx(SiteFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  })));\n}\n\n_s(App, \"pkrNVBc3+FHOT5E5Ss29EJnqhQ8=\", false, function () {\n  return [useRouter];\n});\n\n_c9 = App;\nApp.propTypes = {\n  Component: PropTypes.any,\n  pageProps: PropTypes.object,\n  lang: PropTypes.string,\n  hideAllAction: PropTypes.func,\n  resetPageDataAction: PropTypes.func.isRequired\n};\n\nfunction mapStateToProps(_ref2) {\n  var lang = _ref2.user.lang;\n  return {\n    lang: lang\n  };\n}\n\nexport default connect(mapStateToProps, {\n  resetCatalogFilterReducerAction: resetCatalogFilterReducer,\n  hideAllAction: hideAll,\n  resetPageDataAction: resetPageData\n})(App);\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n\n$RefreshReg$(_c, \"BuyProductModal$dynamic\");\n$RefreshReg$(_c2, \"BuyProductModal\");\n$RefreshReg$(_c3, \"SiteHeader$dynamic\");\n$RefreshReg$(_c4, \"SiteHeader\");\n$RefreshReg$(_c5, \"MobileMenuBar$dynamic\");\n$RefreshReg$(_c6, \"MobileMenuBar\");\n$RefreshReg$(_c7, \"SiteFooter$dynamic\");\n$RefreshReg$(_c8, \"SiteFooter\");\n$RefreshReg$(_c9, \"App\");","map":{"version":3,"sources":["/var/www/mankan-front/App.js"],"names":["React","useEffect","useMemo","useState","Head","dynamic","PropTypes","connect","useRouter","IntlProvider","CategoryMenuMobile","CategorySubmenuMobile","FilterListSidebar","messages","PagesLoader","resetCatalogFilterReducer","hideAll","resetPageData","getTextFromPath","BuyProductModal","SiteHeader","MobileMenuBar","SiteFooter","App","Component","pageProps","lang","hideAllAction","resetPageDataAction","router","pathname","title","isPageLoading","setIsPageLoading","events","on","route","window","scrollTo","display","propTypes","any","object","string","func","isRequired","mapStateToProps","user","resetCatalogFilterReducerAction"],"mappings":"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","sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport Head from 'next/head';\nimport dynamic from 'next/dynamic';\n\n\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useRouter } from 'next/router';\nimport { IntlProvider } from 'react-intl';\n\nimport CategoryMenuMobile from './components/mobile/category-menu-mobile/CategoryMenuContent';\nimport CategorySubmenuMobile from './components/mobile/category-menu-mobile/CategorySubmenuContent';\nimport FilterListSidebar from './components/mobile/filter-list-sidebar/FilterListWrapper';\nimport messages from './staticText/messages';\nimport PagesLoader from './components/pages-loader/PagesLoader';\n\nimport { resetCatalogFilterReducer } from './store/catalog-filter/action';\nimport { hideAll } from './store/userEventListeners/action';\nimport { resetPageData } from './store/pages-data/action';\nimport { getTextFromPath } from './components/common/constants';\n\n\nconst BuyProductModal = dynamic(() => import('./components/modals/buy-product-modal/BuyProductModal'));\nconst SiteHeader = dynamic(() => import('./layout/header/SiteHeader'));\nconst MobileMenuBar = dynamic(() => import('./layout/mobile-menu/MobileMenuBar'));\nconst SiteFooter = dynamic(() => import('./layout/footer/SiteFooter'));\n\nfunction App({\n  Component,\n  pageProps,\n  lang,\n  hideAllAction,\n  resetPageDataAction,\n}) {\n  const router = useRouter();\n\n  const { pathname } = router;\n  const title = useMemo(() => getTextFromPath(pathname, messages[lang]) || 'Mankan', [lang, pathname]);\n\n  const [isPageLoading, setIsPageLoading] = useState(false);\n\n  useEffect(() => {\n    router.events.on('routeChangeStart', (route) => {\n      if (route !== '/cart') resetPageDataAction();\n      window.scrollTo(0, 0);\n      setIsPageLoading(true);\n      hideAllAction();\n    });\n    router.events.on('routeChangeComplete', () => {\n      setIsPageLoading(false);\n    });\n  }, []);\n\n\n  return (\n    <IntlProvider locale=\"en\" defaultLocale=\"ARM\" messages={messages[lang]}>\n      <Head>\n        <title>{title}</title>\n      </Head>\n      <div className=\"App\">\n        <BuyProductModal />\n\n        <SiteHeader />\n\n        <MobileMenuBar />\n        <FilterListSidebar />\n        <CategorySubmenuMobile />\n        <CategoryMenuMobile />\n\n\n        {isPageLoading ? <PagesLoader />\n          : null}\n\n        <div style={isPageLoading ? { display: 'none' } : {}}>\n          <Component {...pageProps} />\n        </div>\n\n        <SiteFooter />\n      </div>\n    </IntlProvider>\n\n  );\n}\n\nApp.propTypes = {\n  Component: PropTypes.any,\n  pageProps: PropTypes.object,\n  lang: PropTypes.string,\n  hideAllAction: PropTypes.func,\n  resetPageDataAction: PropTypes.func.isRequired,\n};\n\n\nfunction mapStateToProps({\n  user: { lang },\n}) {\n  return {\n    lang,\n  };\n}\n\nexport default connect(mapStateToProps, {\n  resetCatalogFilterReducerAction: resetCatalogFilterReducer,\n  hideAllAction: hideAll,\n  resetPageDataAction: resetPageData,\n})(App);\n"]},"metadata":{},"sourceType":"module"}