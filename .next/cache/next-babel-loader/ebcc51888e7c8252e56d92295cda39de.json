{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(workCatalogFilterChange),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(watchCatalogFilterChange),\n    _marked3 = /*#__PURE__*/_regeneratorRuntime.mark(workCatalogFilterSetValues),\n    _marked4 = /*#__PURE__*/_regeneratorRuntime.mark(watchCatalogFilterSetValues);\n\nimport { takeLatest, put, select, takeEvery } from '@redux-saga/core/effects';\nimport { catalogFilterChange, catalogFilterChangeSuccess, catalogFilterSetValues, resetFilterView } from './action';\nimport { catalogGet } from '../catalog/action';\nimport { getCatalogFilterByName } from './reducer';\n\nfunction workCatalogFilterChange(_ref) {\n  var _ref$payload, name, value, classificationAll;\n\n  return _regeneratorRuntime.wrap(function workCatalogFilterChange$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _ref$payload = _ref.payload, name = _ref$payload.name, value = _ref$payload.value;\n          _context.prev = 1;\n\n          if (!(name === 'classification' && (value === null || value === void 0 ? void 0 : value[0]) === 'all')) {\n            _context.next = 7;\n            break;\n          }\n\n          _context.next = 5;\n          return put(resetFilterView());\n\n        case 5:\n          _context.next = 13;\n          break;\n\n        case 7:\n          _context.next = 9;\n          return select(getCatalogFilterByName('classification'));\n\n        case 9:\n          classificationAll = _context.sent;\n\n          if (!(classificationAll[0] === 'all')) {\n            _context.next = 13;\n            break;\n          }\n\n          _context.next = 13;\n          return put(catalogFilterChangeSuccess({\n            name: 'classification',\n            value: []\n          }));\n\n        case 13:\n          _context.next = 15;\n          return put(catalogFilterChangeSuccess({\n            name: name,\n            value: value\n          }));\n\n        case 15:\n          _context.next = 17;\n          return put(catalogGet({\n            name: name,\n            value: value\n          }));\n\n        case 17:\n          _context.next = 21;\n          break;\n\n        case 19:\n          _context.prev = 19;\n          _context.t0 = _context[\"catch\"](1);\n\n        case 21:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[1, 19]]);\n}\n\nfunction watchCatalogFilterChange() {\n  return _regeneratorRuntime.wrap(function watchCatalogFilterChange$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return takeLatest(catalogFilterChange, workCatalogFilterChange);\n\n        case 2:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2);\n}\n\nfunction workCatalogFilterSetValues(_ref2) {\n  var payload, _payload$classificati, all, classificationAll;\n\n  return _regeneratorRuntime.wrap(function workCatalogFilterSetValues$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          payload = _ref2.payload;\n          _context3.prev = 1;\n          all = payload === null || payload === void 0 ? void 0 : (_payload$classificati = payload.classification) === null || _payload$classificati === void 0 ? void 0 : _payload$classificati[0];\n\n          if (!all) {\n            _context3.next = 8;\n            break;\n          }\n\n          _context3.next = 6;\n          return put(resetFilterView({\n            exception: 'classification'\n          }));\n\n        case 6:\n          _context3.next = 14;\n          break;\n\n        case 8:\n          _context3.next = 10;\n          return select(getCatalogFilterByName('classification'));\n\n        case 10:\n          classificationAll = _context3.sent;\n\n          if (!(classificationAll[0] === 'all')) {\n            _context3.next = 14;\n            break;\n          }\n\n          _context3.next = 14;\n          return put(catalogFilterChangeSuccess({\n            name: 'classification',\n            value: []\n          }));\n\n        case 14:\n          _context3.next = 18;\n          break;\n\n        case 16:\n          _context3.prev = 16;\n          _context3.t0 = _context3[\"catch\"](1);\n\n        case 18:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, null, [[1, 16]]);\n}\n\nfunction watchCatalogFilterSetValues() {\n  return _regeneratorRuntime.wrap(function watchCatalogFilterSetValues$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return takeEvery(catalogFilterSetValues, workCatalogFilterSetValues);\n\n        case 2:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4);\n}\n\nexport { watchCatalogFilterChange, watchCatalogFilterSetValues };","map":{"version":3,"sources":["/var/www/mankan-front/store/catalog-filter/saga.js"],"names":["workCatalogFilterChange","watchCatalogFilterChange","workCatalogFilterSetValues","watchCatalogFilterSetValues","takeLatest","put","select","takeEvery","catalogFilterChange","catalogFilterChangeSuccess","catalogFilterSetValues","resetFilterView","catalogGet","getCatalogFilterByName","payload","name","value","classificationAll","all","classification","exception"],"mappings":"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","sourcesContent":["\nimport {\n  takeLatest, put, select, takeEvery,\n} from '@redux-saga/core/effects';\n\n\nimport {\n  catalogFilterChange,\n  catalogFilterChangeSuccess, catalogFilterSetValues,\n  resetFilterView,\n} from './action';\nimport { catalogGet } from '../catalog/action';\nimport { getCatalogFilterByName } from './reducer';\n\n\nfunction* workCatalogFilterChange({ payload: { name, value } }) {\n  try {\n    if (name === 'classification' && value?.[0] === 'all') {\n      yield put(resetFilterView());\n    } else {\n      const classificationAll = yield select(getCatalogFilterByName('classification'));\n      if (classificationAll[0] === 'all') {\n        yield put(catalogFilterChangeSuccess({ name: 'classification', value: [] }));\n      }\n    }\n    yield put(catalogFilterChangeSuccess({ name, value }));\n    yield put(catalogGet({ name, value }));\n  } catch (error) {\n  }\n}\n\n\nfunction* watchCatalogFilterChange() {\n  yield takeLatest(catalogFilterChange, workCatalogFilterChange);\n}\n\nfunction* workCatalogFilterSetValues({ payload }) {\n  try {\n    const all = payload?.classification?.[0];\n\n    if (all) {\n      yield put(resetFilterView({ exception: 'classification' }));\n    } else {\n      const classificationAll = yield select(getCatalogFilterByName('classification'));\n      if (classificationAll[0] === 'all') {\n        yield put(catalogFilterChangeSuccess({ name: 'classification', value: [] }));\n      }\n    }\n  } catch (e) {\n    // todo handle\n  }\n}\nfunction* watchCatalogFilterSetValues() {\n  yield takeEvery(catalogFilterSetValues, workCatalogFilterSetValues);\n}\nexport {\n  watchCatalogFilterChange,\n  watchCatalogFilterSetValues,\n};\n"]},"metadata":{},"sourceType":"module"}