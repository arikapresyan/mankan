{"ast":null,"code":"import { all, put, call, takeEvery } from 'redux-saga/effects';\nimport Axios from 'axios';\nimport { getCurrantTime, setCurrantTime } from './action';\n\nfunction* workGetCurrantTime() {\n  for (let i = 0; i < 3; i++) {\n    try {\n      const {\n        data: {\n          datetime\n        }\n      } = yield call(Axios.request, {\n        url: 'https://worldtimeapi.org/api/timezone/Asia/Yerevan',\n        method: 'get'\n      });\n      const newTime = datetime.split('.')[0];\n      yield put(setCurrantTime({\n        currantTime: new Date(newTime)\n      }));\n      return true;\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  return true;\n}\n\nfunction* watchGetCurrantTime() {\n  yield takeEvery(getCurrantTime, workGetCurrantTime);\n}\n\nexport default function* () {\n  yield all([watchGetCurrantTime()]);\n}","map":{"version":3,"sources":["/var/www/mankan-front/store/currant-time/saga.js"],"names":["all","put","call","takeEvery","Axios","getCurrantTime","setCurrantTime","workGetCurrantTime","i","data","datetime","request","url","method","newTime","split","currantTime","Date","e","console","log","watchGetCurrantTime"],"mappings":"AAAA,SACEA,GADF,EACOC,GADP,EACYC,IADZ,EACkBC,SADlB,QAEO,oBAFP;AAGA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,EAAyBC,cAAzB,QAA+C,UAA/C;;AAEA,UAAUC,kBAAV,GAA+B;AAC7B,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC1B,QAAI;AACF,YAAM;AAAEC,QAAAA,IAAI,EAAE;AAAEC,UAAAA;AAAF;AAAR,UAAyB,MAAMR,IAAI,CAACE,KAAK,CAACO,OAAP,EAAgB;AACvDC,QAAAA,GAAG,EAAE,oDADkD;AAEvDC,QAAAA,MAAM,EAAE;AAF+C,OAAhB,CAAzC;AAKA,YAAMC,OAAO,GAAGJ,QAAQ,CAACK,KAAT,CAAe,GAAf,EAAoB,CAApB,CAAhB;AACA,YAAMd,GAAG,CAACK,cAAc,CAAC;AAAEU,QAAAA,WAAW,EAAE,IAAIC,IAAJ,CAASH,OAAT;AAAf,OAAD,CAAf,CAAT;AACA,aAAO,IAAP;AACD,KATD,CASE,OAAOI,CAAP,EAAU;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACD;AACF;;AACD,SAAO,IAAP;AACD;;AAED,UAAUG,mBAAV,GAAgC;AAC9B,QAAMlB,SAAS,CAACE,cAAD,EAAiBE,kBAAjB,CAAf;AACD;;AAED,eAAe,aAAa;AAC1B,QAAMP,GAAG,CAAC,CAACqB,mBAAmB,EAApB,CAAD,CAAT;AACD","sourcesContent":["import {\n  all, put, call, takeEvery,\n} from 'redux-saga/effects';\nimport Axios from 'axios';\nimport { getCurrantTime, setCurrantTime } from './action';\n\nfunction* workGetCurrantTime() {\n  for (let i = 0; i < 3; i++) {\n    try {\n      const { data: { datetime } } = yield call(Axios.request, {\n        url: 'https://worldtimeapi.org/api/timezone/Asia/Yerevan',\n        method: 'get',\n      });\n\n      const newTime = datetime.split('.')[0];\n      yield put(setCurrantTime({ currantTime: new Date(newTime) }));\n      return true;\n    } catch (e) {\n      console.log(e);\n    }\n  }\n  return true;\n}\n\nfunction* watchGetCurrantTime() {\n  yield takeEvery(getCurrantTime, workGetCurrantTime);\n}\n\nexport default function* () {\n  yield all([watchGetCurrantTime()]);\n}\n"]},"metadata":{},"sourceType":"module"}