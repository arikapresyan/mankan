{"ast":null,"code":"var __jsx = React.createElement;\n\n/* eslint-disable react/style-prop-object */\n\n/* eslint-disable jsx-a11y/iframe-has-title */\nimport React from 'react';\nimport { Provider } from 'react-redux';\nimport App from 'next/app';\nimport withRedux from 'next-redux-wrapper';\nimport withReduxSaga from 'next-redux-saga';\nimport Head from 'next/head';\nimport dynamic from 'next/dynamic';\nimport reduxStore from '../store/configuredStore';\nimport 'font-awesome/css/font-awesome.min.css';\nimport 'swiper/css/swiper.css';\nimport '../index.less';\nimport { getUserData, setLang } from '../store/user/action';\nconst AppLayout = dynamic(() => import('../App'), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('../App')],\n    modules: ['../App']\n  }\n});\n\nclass MyApp extends App {\n  static async getInitialProps({\n    Component,\n    ctx\n  }) {\n    const pageProps = Component.getInitialProps ? await Component.getInitialProps(ctx) : {};\n    return {\n      pageProps\n    };\n  }\n\n  componentDidMount() {\n    (function (w, d, s, l, i) {\n      w[l] = w[l] || [];\n      w[l].push({\n        'gtm.start': new Date().getTime(),\n        event: 'gtm.js'\n      });\n      const f = d.getElementsByTagName(s)[0];\n      const j = d.createElement(s);\n      const dl = l != 'dataLayer' ? `&l=${l}` : '';\n      j.async = true;\n      j.src = `https://www.googletagmanager.com/gtm.js?id=${i}${dl}`;\n      f.parentNode.insertBefore(j, f);\n    })(window, document, 'script', 'dataLayer', 'GTM-N6GSQL3');\n\n    let lang = localStorage.getItem('lang');\n\n    if (lang !== 'ARM' && lang !== 'RU' && lang !== 'ENG') {\n      lang = 'ARM';\n      localStorage.setItem('lang', lang);\n    }\n\n    this.props.store.dispatch(setLang({\n      lang\n    }));\n    this.props.store.dispatch(getUserData());\n  }\n\n  render() {\n    const {\n      Component,\n      pageProps,\n      store,\n      router: {\n        pathname\n      }\n    } = this.props;\n    return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"meta\", {\n      name: \"yandex-verification\",\n      content: \"2da434c5e87e666a\"\n    }), __jsx(\"link\", {\n      rel: \"shortcut icon\",\n      href: \"/Favicon.png\"\n    })), pathname === '/_error' ? __jsx(Component, null) : __jsx(Provider, {\n      store: store,\n      key: \"provider\"\n    }, __jsx(AppLayout, {\n      pageProps: pageProps,\n      Component: Component,\n      key: \"appLayout\"\n    })), __jsx(\"noscript\", null, __jsx(\"iframe\", {\n      src: \"https://www.googletagmanager.com/ns.html?id=GTM-N6GSQL3\",\n      height: \"0\",\n      width: \"0\",\n      style: {\n        display: 'none',\n        visibility: 'hidden'\n      }\n    })));\n  }\n\n} // eslint-disable-next-line import/no-mutable-exports\n\n\nlet store;\nexport default withRedux((initialState, props) => {\n  store = reduxStore(initialState, props);\n  return store;\n})(withReduxSaga(MyApp));\nexport { store };","map":null,"metadata":{},"sourceType":"module"}