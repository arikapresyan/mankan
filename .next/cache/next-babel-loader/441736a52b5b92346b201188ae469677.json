{"ast":null,"code":"var __jsx = React.createElement;\n\n/* eslint-disable jsx-a11y/control-has-associated-label */\nimport React, { useMemo } from 'react';\nimport { Modal } from 'antd';\nimport { connect } from 'react-redux';\nimport dynamic from 'next/dynamic';\nimport { getProductToBuyReset } from '../../../store/buy-product/action';\nimport { wishlistChangeItem } from '../../../store/wishlist/action';\nconst ModalContent = dynamic(() => import('./ModalContent'), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('./ModalContent')],\n    modules: ['./ModalContent']\n  }\n});\n\nfunction BuyProductModal({\n  wishlistChangeItemAction,\n  wishlistProductIds,\n  handleHideModal,\n  product,\n  cart,\n  user\n}) {\n  const data = useMemo(() => product.data && product.data.productById || {}, [product.data]);\n  const name = useMemo(() => {\n    var _data$langs, _data$langs$;\n\n    return (data === null || data === void 0 ? void 0 : (_data$langs = data.langs) === null || _data$langs === void 0 ? void 0 : (_data$langs$ = _data$langs[0]) === null || _data$langs$ === void 0 ? void 0 : _data$langs$.name) || 'loading';\n  }, [data.name]);\n  const isInCart = !!useMemo(() => {\n    var _cart$data;\n\n    return cart === null || cart === void 0 ? void 0 : (_cart$data = cart.data) === null || _cart$data === void 0 ? void 0 : _cart$data[data.id];\n  }, [cart, data]);\n  const visible = useMemo(() => !!((product.loading || product.data) && !product.error), [product.loading, product.data, product.error]);\n  return __jsx(Modal, {\n    destroyOnClose: true,\n    title: name,\n    centered: true,\n    visible: visible,\n    onCancel: () => handleHideModal(),\n    footer: null,\n    className: \"buy_product_modal\"\n  }, (data === null || data === void 0 ? void 0 : data.name) ? __jsx(ModalContent, {\n    product: data,\n    inWishlist: !!wishlistProductIds[data.id],\n    localChanges: cart.data || {},\n    handleHideModal: handleHideModal,\n    wishlistChangeItemAction: wishlistChangeItemAction,\n    bonus: user.bonusPercent,\n    isInCart: isInCart\n  }) : '');\n}\n\nconst mapStateToProps = ({\n  buyProduct,\n  wishlist,\n  cart,\n  user\n}) => ({\n  product: buyProduct,\n  wishlistProductIds: wishlist.productIds,\n  cart,\n  user\n});\n\nexport default connect(mapStateToProps, {\n  handleHideModal: getProductToBuyReset,\n  wishlistChangeItemAction: wishlistChangeItem\n})(BuyProductModal);","map":null,"metadata":{},"sourceType":"module"}