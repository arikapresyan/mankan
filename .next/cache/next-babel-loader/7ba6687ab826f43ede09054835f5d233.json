{"ast":null,"code":"import { all, put, call, takeEvery } from 'redux-saga/effects';\nimport Axios from 'axios';\nimport { getCurrantTime, setCurrantTime } from './action';\n\nfunction* workGetCurrantTime() {\n  for (let i = 0; i < 3; i++) {\n    try {\n      const {\n        data: {\n          datetime\n        }\n      } = yield call(Axios.request, {\n        url: 'http://worldtimeapi.org/api/timezone/Asia/Yerevan',\n        method: 'get'\n      });\n      const newTime = datetime.split('+')[0];\n      yield put(setCurrantTime({\n        currantTime: new Date(newTime)\n      }));\n      return true;\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  return true;\n}\n\nfunction* watchGetCurrantTime() {\n  yield takeEvery(getCurrantTime, workGetCurrantTime);\n}\n\nexport default function* () {\n  yield all([watchGetCurrantTime()]);\n}","map":null,"metadata":{},"sourceType":"module"}