{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _handleActions;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { handleActions } from 'redux-actions';\nimport keys from '../../constants/keys';\nimport { catalogFilterChange, catalogFilterChangeSuccess, catalogFilterChangeError, resetCatalogFilterReducer, catalogFilterSetValues, catalogSetFilters, resetFilterView } from './action';\nvar initialState = {\n  classification: [],\n  price: [keys.DEFAULT_PRICE[0], keys.DEFAULT_PRICE[1]],\n  gender: [],\n  age: [],\n  type: [],\n  meaning: [],\n  brand: [],\n  isUserFilter: false,\n  loading: false,\n  filters: {\n    brand: [],\n    productSex: [],\n    extraFilter: [],\n    productAge: [],\n    productType: [],\n    productUsage: [],\n    searchWord: ''\n  }\n};\nexport default handleActions((_handleActions = {}, _defineProperty(_handleActions, catalogFilterChangeSuccess, function (state, _ref) {\n  var _objectSpread2;\n\n  var _ref$payload = _ref.payload,\n      name = _ref$payload.name,\n      value = _ref$payload.value;\n  return _objectSpread(_objectSpread({}, state), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, name, value), _defineProperty(_objectSpread2, \"loading\", false), _objectSpread2));\n}), _defineProperty(_handleActions, catalogFilterSetValues, function (state, _ref2) {\n  var payload = _ref2.payload;\n  return _objectSpread(_objectSpread(_objectSpread({}, state), payload), {}, {\n    loading: false\n  });\n}), _defineProperty(_handleActions, resetFilterView, function (state, _ref3) {\n  var exception = _ref3.payload.exception;\n  return _objectSpread(_objectSpread({}, state), {}, _defineProperty({\n    classification: [],\n    price: [keys.DEFAULT_PRICE[0], keys.DEFAULT_PRICE[1]],\n    gender: [],\n    age: [],\n    type: [],\n    meaning: [],\n    brand: []\n  }, exception, state[exception]));\n}), _defineProperty(_handleActions, catalogFilterChange, function (state) {\n  return _objectSpread(_objectSpread({}, state), {}, {\n    loading: true\n  });\n}), _defineProperty(_handleActions, catalogSetFilters, function (state, _ref4) {\n  var filters = _ref4.payload.filters;\n  return _objectSpread(_objectSpread({}, state), {}, {\n    filters: filters\n  });\n}), _defineProperty(_handleActions, resetCatalogFilterReducer, function (state, _ref5) {\n  var _ref5$payload = _ref5.payload;\n  _ref5$payload = _ref5$payload === void 0 ? {} : _ref5$payload;\n  var resetSearchWord = _ref5$payload.resetSearchWord;\n  return _objectSpread(_objectSpread({}, initialState), {}, {\n    filters: _objectSpread(_objectSpread({}, initialState.filters), {}, {\n      searchWord: resetSearchWord ? '' : state.filters.searchWord\n    })\n  });\n}), _defineProperty(_handleActions, catalogFilterChangeError, function (state) {\n  return _objectSpread(_objectSpread({}, initialState), {}, {\n    filters: _objectSpread(_objectSpread({}, initialState.filters), {}, {\n      searchWord: state.filters.searchWord\n    })\n  });\n}), _handleActions), initialState);\nexport var clearFilters = function clearFilters(store) {\n  var filters = _objectSpread({}, store.catalogFilter);\n\n  var keysArray = Object.keys(filters);\n  keysArray.forEach(function (key) {\n    if (!filters[key].length && key !== 'searchWord') {\n      delete filters[key];\n    }\n  });\n  return filters;\n};\nexport var getIsUserFilter = function getIsUserFilter(store) {\n  return !!store.catalogFilter.isUserFilter;\n};\nexport var selectCatalogFilters = function selectCatalogFilters(_ref6) {\n  var catalogFilter = _ref6.catalogFilter;\n  return catalogFilter.filters;\n};\nexport var getCatalogFilterByName = function getCatalogFilterByName(name) {\n  return function (_ref7) {\n    var catalogFilter = _ref7.catalogFilter;\n    return catalogFilter[name];\n  };\n};","map":{"version":3,"sources":["/var/www/mankan-front/store/catalog-filter/reducer.js"],"names":["handleActions","keys","catalogFilterChange","catalogFilterChangeSuccess","catalogFilterChangeError","resetCatalogFilterReducer","catalogFilterSetValues","catalogSetFilters","resetFilterView","initialState","classification","price","DEFAULT_PRICE","gender","age","type","meaning","brand","isUserFilter","loading","filters","productSex","extraFilter","productAge","productType","productUsage","searchWord","state","payload","name","value","exception","resetSearchWord","clearFilters","store","catalogFilter","keysArray","Object","forEach","key","length","getIsUserFilter","selectCatalogFilters","getCatalogFilterByName"],"mappings":"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","sourcesContent":["import { handleActions } from 'redux-actions';\n\nimport keys from '../../constants/keys';\n\nimport {\n  catalogFilterChange,\n  catalogFilterChangeSuccess,\n  catalogFilterChangeError,\n  resetCatalogFilterReducer,\n  catalogFilterSetValues,\n  catalogSetFilters,\n  resetFilterView,\n} from './action';\n\nconst initialState = {\n  classification: [],\n  price: [keys.DEFAULT_PRICE[0], keys.DEFAULT_PRICE[1]],\n  gender: [],\n  age: [],\n  type: [],\n  meaning: [],\n  brand: [],\n  isUserFilter: false,\n  loading: false,\n  filters: {\n    brand: [],\n    productSex: [],\n    extraFilter: [],\n    productAge: [],\n    productType: [],\n    productUsage: [],\n    searchWord: '',\n  },\n};\n\nexport default handleActions({\n  [catalogFilterChangeSuccess]: (\n    state, { payload: { name, value } },\n  ) => ({\n    ...state,\n    [name]: value,\n    loading: false,\n  }),\n  [catalogFilterSetValues]: (state, { payload }) => ({ ...state, ...payload, loading: false }),\n  [resetFilterView]: (state, { payload: { exception } }) => ({\n    ...state,\n    classification: [],\n    price: [keys.DEFAULT_PRICE[0], keys.DEFAULT_PRICE[1]],\n    gender: [],\n    age: [],\n    type: [],\n    meaning: [],\n    brand: [],\n    [exception]: state[exception],\n\n  }),\n  [catalogFilterChange]: (state) => ({ ...state, loading: true }),\n  [catalogSetFilters]: (state, { payload: { filters } }) => ({ ...state, filters }),\n  [resetCatalogFilterReducer]: (state, { payload: { resetSearchWord } = {} }) => ({\n    ...initialState,\n    filters: {\n      ...initialState.filters,\n      searchWord: resetSearchWord ? '' : state.filters.searchWord,\n    },\n  }),\n  [catalogFilterChangeError]: (state) => ({ ...initialState, filters: { ...initialState.filters, searchWord: state.filters.searchWord } }),\n\n}, initialState);\n\n\nexport const clearFilters = (store) => {\n  const filters = { ...store.catalogFilter };\n  const keysArray = Object.keys(filters);\n\n  keysArray.forEach((key) => {\n    if (!filters[key].length && key !== 'searchWord') {\n      delete filters[key];\n    }\n  });\n\n  return filters;\n};\n\nexport const getIsUserFilter = (store) => !!store.catalogFilter.isUserFilter;\n\nexport const selectCatalogFilters = ({ catalogFilter }) => catalogFilter.filters;\n\nexport const getCatalogFilterByName = (name) => ({ catalogFilter }) => catalogFilter[name];\n"]},"metadata":{},"sourceType":"module"}