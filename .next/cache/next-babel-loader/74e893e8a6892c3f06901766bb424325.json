{"ast":null,"code":"var __jsx = React.createElement;\n\n/* eslint-disable jsx-a11y/control-has-associated-label */\nimport React, { useMemo } from 'react';\nimport Modal from 'antd/lib/modal';\nimport { connect } from 'react-redux';\nimport dynamic from 'next/dynamic';\nimport { getProductToBuyReset } from '../../../store/buy-product/action';\nimport { wishlistChangeItem } from '../../../store/wishlist/action';\nvar ModalContent = dynamic(function () {\n  return import('./ModalContent');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./ModalContent')];\n    },\n    modules: ['./ModalContent']\n  }\n});\n\nfunction BuyProductModal(_ref) {\n  var wishlistChangeItemAction = _ref.wishlistChangeItemAction,\n      wishlistProductIds = _ref.wishlistProductIds,\n      handleHideModal = _ref.handleHideModal,\n      product = _ref.product,\n      cart = _ref.cart,\n      user = _ref.user;\n  var data = useMemo(function () {\n    return product.data && product.data.productById || {};\n  }, [product.data]);\n  var name = useMemo(function () {\n    var _data$langs, _data$langs$;\n\n    return (data === null || data === void 0 ? void 0 : (_data$langs = data.langs) === null || _data$langs === void 0 ? void 0 : (_data$langs$ = _data$langs[0]) === null || _data$langs$ === void 0 ? void 0 : _data$langs$.name) || 'loading';\n  }, [data.name]);\n  var isInCart = !!useMemo(function () {\n    var _cart$data;\n\n    return cart === null || cart === void 0 ? void 0 : (_cart$data = cart.data) === null || _cart$data === void 0 ? void 0 : _cart$data[data.id];\n  }, [cart, data]);\n  var visible = useMemo(function () {\n    return !!((product.loading || product.data) && !product.error);\n  }, [product.loading, product.data, product.error]);\n  return __jsx(Modal, {\n    destroyOnClose: true,\n    title: name,\n    centered: true,\n    visible: visible,\n    onCancel: function onCancel() {\n      return handleHideModal();\n    },\n    footer: null,\n    className: \"buy_product_modal\"\n  }, (data === null || data === void 0 ? void 0 : data.name) ? __jsx(ModalContent, {\n    product: data,\n    inWishlist: !!wishlistProductIds[data.id],\n    localChanges: cart.data || {},\n    handleHideModal: handleHideModal,\n    wishlistChangeItemAction: wishlistChangeItemAction,\n    bonus: user.bonusPercent,\n    isInCart: isInCart\n  }) : '');\n}\n\nvar mapStateToProps = function mapStateToProps(_ref2) {\n  var buyProduct = _ref2.buyProduct,\n      wishlist = _ref2.wishlist,\n      cart = _ref2.cart,\n      user = _ref2.user;\n  return {\n    product: buyProduct,\n    wishlistProductIds: wishlist.productIds,\n    cart: cart,\n    user: user\n  };\n};\n\nexport default connect(mapStateToProps, {\n  handleHideModal: getProductToBuyReset,\n  wishlistChangeItemAction: wishlistChangeItem\n})(BuyProductModal);","map":null,"metadata":{},"sourceType":"module"}