{"ast":null,"code":"var _jsxFileName = \"/var/www/mankan-front/components/mobile/category-menu-mobile/CategorySubmenuMobile.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useMemo } from 'react';\nimport Menu from 'antd/lib/menu';\nimport Icon from 'antd/lib/icon';\nimport Link from 'next/link';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { useIntl } from 'react-intl';\nimport { hideAll } from '../../../store/userEventListeners/action';\nvar SubMenu = Menu.SubMenu;\n\nfunction CategorySubmenu(_ref) {\n  _s();\n\n  var _this = this;\n\n  var hideAllAction = _ref.hideAllAction,\n      mobyleSubmenuInfo = _ref.globalInformationRouter.mobyle_submenu_info,\n      menuList = _ref.menuList;\n\n  var _ref2 = mobyleSubmenuInfo || {},\n      subType = _ref2.subType,\n      href = _ref2.href;\n\n  var _useState = useState([]),\n      openKeys = _useState[0],\n      setOpenKeys = _useState[1];\n\n  var subKey = \"mobile_sub_filters\".concat(subType);\n  useEffect(function () {\n    setOpenKeys([subKey]);\n  }, [subType]);\n\n  var _useIntl = useIntl(),\n      messages = _useIntl.messages;\n\n  var productsObject = menuList.data; // type age brand meaning\n\n  var subMenuArray = useMemo(function () {\n    return productsObject ? [{\n      headingName: messages['local.type'],\n      products: productsObject.type,\n      linkPart: 'type'\n    }, {\n      headingName: messages['local.select_by_age'],\n      products: productsObject.age.map(function (_ref3) {\n        var name = _ref3.name,\n            text = _ref3.text,\n            id = _ref3.id;\n        return {\n          id: id,\n          name: \"\".concat(name, \" \").concat(messages['local.years']),\n          text: \"\".concat(text, \" \").concat(messages['local.years'])\n        };\n      }),\n      linkPart: 'age'\n    }, {\n      headingName: messages['local.select_by_brand'],\n      products: productsObject.brand,\n      linkPart: 'brand'\n    }, {\n      headingName: messages['local.meaning'],\n      products: productsObject.meaning,\n      linkPart: 'meaning'\n    }] : [];\n  }, [productsObject, messages]);\n\n  var closeAllSideBars = function closeAllSideBars() {\n    hideAllAction();\n  };\n\n  return __jsx(\"div\", {\n    className: \"subcategory_menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, menuList.loading ? 'loading' : __jsx(Menu, {\n    onOpenChange: setOpenKeys,\n    mode: \"inline\",\n    openKeys: openKeys,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, __jsx(Menu.Item, {\n    key: \"1\",\n    onClick: closeAllSideBars,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, __jsx(Link, {\n    href: \"/catalog\".concat(href || ''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, messages['local.all_of']))), subMenuArray.map(function (_ref4, parentIndex) {\n    var products = _ref4.products,\n        headingName = _ref4.headingName,\n        linkPart = _ref4.linkPart;\n    return __jsx(SubMenu, {\n      key: \"mobile_sub_filters\".concat(linkPart),\n      title: __jsx(\"span\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 19\n        }\n      }, __jsx(\"span\", {\n        className: \"cat_name\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }\n      }, headingName), __jsx(Icon, {\n        className: \"arrow_icon\",\n        type: \"right\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }\n      })),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    }, subType && products.map(function (product, index) {\n      return __jsx(Menu.Item, {\n        key: \"mobile_sub_filters\".concat(linkPart).concat(parentIndex, \".\").concat(index),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 19\n        }\n      }, __jsx(Link, {\n        href: \"catalog\".concat(href ? \"\".concat(href, \"&\") : '?').concat(linkPart, \"=\").concat(product.id),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }\n      }, __jsx(\"a\", {\n        onClick: hideAllAction,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 23\n        }\n      }, product.name)));\n    }));\n  })));\n}\n\n_s(CategorySubmenu, \"Ouz1hGvtmIVCVXx8S5kK5oI3t0c=\", false, function () {\n  return [useIntl];\n});\n\n_c = CategorySubmenu;\nCategorySubmenu.propTypes = {\n  hideAllAction: PropTypes.func,\n  globalInformationRouter: PropTypes.object,\n  menuList: PropTypes.object\n};\n\nfunction mapStateToProps(_ref5) {\n  var globalInformationRouter = _ref5.globalInformationRouter,\n      menuList = _ref5.menuList;\n  return {\n    globalInformationRouter: globalInformationRouter,\n    menuList: menuList\n  };\n}\n\nexport default connect(mapStateToProps, {\n  hideAllAction: hideAll\n})(CategorySubmenu);\n\nvar _c;\n\n$RefreshReg$(_c, \"CategorySubmenu\");","map":{"version":3,"sources":["/var/www/mankan-front/components/mobile/category-menu-mobile/CategorySubmenuMobile.js"],"names":["React","useState","useEffect","useMemo","Menu","Icon","Link","connect","PropTypes","useIntl","hideAll","SubMenu","CategorySubmenu","hideAllAction","mobyleSubmenuInfo","globalInformationRouter","mobyle_submenu_info","menuList","subType","href","openKeys","setOpenKeys","subKey","messages","productsObject","data","subMenuArray","headingName","products","type","linkPart","age","map","name","text","id","brand","meaning","closeAllSideBars","loading","parentIndex","product","index","propTypes","func","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\n\r\nimport Menu from 'antd/lib/menu';\r\nimport Icon from 'antd/lib/icon';\r\n\r\nimport Link from 'next/link';\r\n\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { useIntl } from 'react-intl';\r\nimport { hideAll } from '../../../store/userEventListeners/action';\r\n\r\n\r\nconst { SubMenu } = Menu;\r\nfunction CategorySubmenu({\r\n  hideAllAction,\r\n  globalInformationRouter:\r\n  {\r\n    mobyle_submenu_info:\r\n    mobyleSubmenuInfo,\r\n  },\r\n  menuList,\r\n}) {\r\n  const { subType, href } = (mobyleSubmenuInfo || {});\r\n  const [openKeys, setOpenKeys] = useState([]);\r\n\r\n  const subKey = `mobile_sub_filters${subType}`;\r\n\r\n  useEffect(() => {\r\n    setOpenKeys([subKey]);\r\n  }, [subType]);\r\n\r\n  const { messages } = useIntl();\r\n\r\n  const productsObject = menuList.data;\r\n\r\n  // type age brand meaning\r\n  const subMenuArray = useMemo(() => (productsObject ? [\r\n    {\r\n      headingName: messages['local.type'],\r\n      products: productsObject.type,\r\n      linkPart: 'type',\r\n    },\r\n    {\r\n      headingName: messages['local.select_by_age'],\r\n      products: productsObject.age.map(({ name, text, id }) => ({\r\n        id,\r\n        name: `${name} ${messages['local.years']}`,\r\n        text: `${text} ${messages['local.years']}`,\r\n      })),\r\n      linkPart: 'age',\r\n    },\r\n    {\r\n      headingName: messages['local.select_by_brand'],\r\n      products: productsObject.brand,\r\n      linkPart: 'brand',\r\n    },\r\n    {\r\n      headingName: messages['local.meaning'],\r\n      products: productsObject.meaning,\r\n      linkPart: 'meaning',\r\n    },\r\n  ] : []), [productsObject, messages]);\r\n\r\n\r\n  const closeAllSideBars = () => {\r\n    hideAllAction();\r\n  };\r\n  return (\r\n    <div className=\"subcategory_menu\">\r\n      {menuList.loading ? 'loading'\r\n        : (\r\n          <Menu\r\n            onOpenChange={setOpenKeys}\r\n            mode=\"inline\"\r\n            openKeys={openKeys}\r\n          >\r\n            <Menu.Item key=\"1\" onClick={closeAllSideBars}>\r\n              <Link href={`/catalog${href || ''}`}>\r\n                <a>\r\n                  {messages['local.all_of']}\r\n                </a>\r\n              </Link>\r\n            </Menu.Item>\r\n\r\n            {subMenuArray.map(({ products, headingName, linkPart }, parentIndex) => (\r\n              <SubMenu\r\n                key={`mobile_sub_filters${linkPart}`}\r\n                title={(\r\n                  <span>\r\n                    <span className=\"cat_name\">{headingName}</span>\r\n                    <Icon className=\"arrow_icon\" type=\"right\" />\r\n                  </span>\r\n                )}\r\n              >\r\n                {subType && products.map((product, index) => (\r\n                  <Menu.Item key={`mobile_sub_filters${linkPart}${parentIndex}.${index}`}>\r\n                    <Link\r\n                      href={\r\n                          `catalog${href ? `${href}&` : '?'}${linkPart}=${product.id}`\r\n                      }\r\n                    >\r\n                      <a onClick={hideAllAction}>\r\n                        {product.name}\r\n                      </a>\r\n                    </Link>\r\n                  </Menu.Item>\r\n                ))}\r\n\r\n              </SubMenu>\r\n            ))}\r\n\r\n          </Menu>\r\n        )}\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nCategorySubmenu.propTypes = {\r\n  hideAllAction: PropTypes.func,\r\n  globalInformationRouter: PropTypes.object,\r\n  menuList: PropTypes.object,\r\n};\r\n\r\nfunction mapStateToProps({ globalInformationRouter, menuList }) {\r\n  return {\r\n    globalInformationRouter,\r\n    menuList,\r\n  };\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, { hideAllAction: hideAll })(CategorySubmenu);\r\n"]},"metadata":{},"sourceType":"module"}