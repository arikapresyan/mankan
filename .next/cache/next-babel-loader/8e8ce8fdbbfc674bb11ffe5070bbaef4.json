{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(workCatalogFilterChange),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(watchCatalogFilterChange),\n    _marked3 = /*#__PURE__*/_regeneratorRuntime.mark(workCatalogFilterSetValues),\n    _marked4 = /*#__PURE__*/_regeneratorRuntime.mark(watchCatalogFilterSetValues),\n    _marked5 = /*#__PURE__*/_regeneratorRuntime.mark(watchCatalogMainSearch);\n\nimport { takeLatest, put, select, takeEvery } from '@redux-saga/core/effects';\nimport Router from 'next/router';\nimport { catalogFilterChange, catalogFilterChangeSuccess, catalogFilterSetValues, catalogMainSearch, catalogSetFilters, resetFilterView } from './action';\nimport { catalogGet } from '../catalog/action';\nimport { getCatalogFilterByName, selectCatalogFilters } from './reducer';\n\nfunction workCatalogFilterChange(_ref) {\n  var _ref$payload, name, value, classificationAll;\n\n  return _regeneratorRuntime.wrap(function workCatalogFilterChange$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _ref$payload = _ref.payload, name = _ref$payload.name, value = _ref$payload.value;\n          _context.prev = 1;\n\n          if (!(name === 'classification' && (value === null || value === void 0 ? void 0 : value[0]) === 'all')) {\n            _context.next = 7;\n            break;\n          }\n\n          _context.next = 5;\n          return put(resetFilterView());\n\n        case 5:\n          _context.next = 13;\n          break;\n\n        case 7:\n          _context.next = 9;\n          return select(getCatalogFilterByName('classification'));\n\n        case 9:\n          classificationAll = _context.sent;\n\n          if (!(classificationAll[0] === 'all')) {\n            _context.next = 13;\n            break;\n          }\n\n          _context.next = 13;\n          return put(catalogFilterChangeSuccess({\n            name: 'classification',\n            value: []\n          }));\n\n        case 13:\n          _context.next = 15;\n          return put(catalogFilterChangeSuccess({\n            name: name,\n            value: value\n          }));\n\n        case 15:\n          _context.next = 17;\n          return put(catalogGet({\n            name: name,\n            value: value\n          }));\n\n        case 17:\n          _context.next = 21;\n          break;\n\n        case 19:\n          _context.prev = 19;\n          _context.t0 = _context[\"catch\"](1);\n\n        case 21:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[1, 19]]);\n}\n\nfunction watchCatalogFilterChange() {\n  return _regeneratorRuntime.wrap(function watchCatalogFilterChange$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return takeLatest(catalogFilterChange, workCatalogFilterChange);\n\n        case 2:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2);\n}\n\nfunction workCatalogFilterSetValues(_ref2) {\n  var payload, _payload$classificati, all, classificationAll;\n\n  return _regeneratorRuntime.wrap(function workCatalogFilterSetValues$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          payload = _ref2.payload;\n          _context3.prev = 1;\n          all = payload === null || payload === void 0 ? void 0 : (_payload$classificati = payload.classification) === null || _payload$classificati === void 0 ? void 0 : _payload$classificati[0];\n\n          if (!all) {\n            _context3.next = 8;\n            break;\n          }\n\n          _context3.next = 6;\n          return put(resetFilterView({\n            exception: 'classification'\n          }));\n\n        case 6:\n          _context3.next = 14;\n          break;\n\n        case 8:\n          _context3.next = 10;\n          return select(getCatalogFilterByName('classification'));\n\n        case 10:\n          classificationAll = _context3.sent;\n\n          if (!(classificationAll[0] === 'all')) {\n            _context3.next = 14;\n            break;\n          }\n\n          _context3.next = 14;\n          return put(catalogFilterChangeSuccess({\n            name: 'classification',\n            value: []\n          }));\n\n        case 14:\n          _context3.next = 18;\n          break;\n\n        case 16:\n          _context3.prev = 16;\n          _context3.t0 = _context3[\"catch\"](1);\n\n        case 18:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, null, [[1, 16]]);\n}\n\nfunction watchCatalogFilterSetValues() {\n  return _regeneratorRuntime.wrap(function watchCatalogFilterSetValues$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return takeEvery(catalogFilterSetValues, workCatalogFilterSetValues);\n\n        case 2:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4);\n}\n\nfunction watchCatalogMainSearch() {\n  return _regeneratorRuntime.wrap(function watchCatalogMainSearch$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.next = 2;\n          return takeLatest(catalogMainSearch, /*#__PURE__*/_regeneratorRuntime.mark(function workCatalogMainSearch(_ref3) {\n            var searchWord;\n            return _regeneratorRuntime.wrap(function workCatalogMainSearch$(_context5) {\n              while (1) {\n                switch (_context5.prev = _context5.next) {\n                  case 0:\n                    searchWord = _ref3.payload.searchWord;\n                    _context5.prev = 1;\n                    Router.push(\"/catalog?searchWord=\".concat(searchWord));\n                    _context5.next = 11;\n                    break;\n\n                  case 5:\n                    _context5.prev = 5;\n                    _context5.t0 = _context5[\"catch\"](1);\n\n                    if (!true) {\n                      _context5.next = 11;\n                      break;\n                    }\n\n                    _context5.next = 10;\n                    return;\n\n                  case 10:\n                    console.log(_context5.t0);\n\n                  case 11:\n                  case \"end\":\n                    return _context5.stop();\n                }\n              }\n            }, workCatalogMainSearch, null, [[1, 5]]);\n          }));\n\n        case 2:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked5);\n}\n\nexport { watchCatalogFilterChange, watchCatalogFilterSetValues, watchCatalogMainSearch };","map":{"version":3,"sources":["/var/www/mankan-front/store/catalog-filter/saga.js"],"names":["workCatalogFilterChange","watchCatalogFilterChange","workCatalogFilterSetValues","watchCatalogFilterSetValues","watchCatalogMainSearch","takeLatest","put","select","takeEvery","Router","catalogFilterChange","catalogFilterChangeSuccess","catalogFilterSetValues","catalogMainSearch","catalogSetFilters","resetFilterView","catalogGet","getCatalogFilterByName","selectCatalogFilters","payload","name","value","classificationAll","all","classification","exception","workCatalogMainSearch","searchWord","push","console","log"],"mappings":"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","sourcesContent":["\nimport {\n  takeLatest, put, select, takeEvery,\n} from '@redux-saga/core/effects';\n\n\nimport Router from 'next/router';\nimport {\n  catalogFilterChange,\n  catalogFilterChangeSuccess, catalogFilterSetValues, catalogMainSearch, catalogSetFilters,\n  resetFilterView,\n} from './action';\nimport { catalogGet } from '../catalog/action';\nimport { getCatalogFilterByName, selectCatalogFilters } from './reducer';\n\n\nfunction* workCatalogFilterChange({ payload: { name, value } }) {\n  try {\n    if (name === 'classification' && value?.[0] === 'all') {\n      yield put(resetFilterView());\n    } else {\n      const classificationAll = yield select(getCatalogFilterByName('classification'));\n      if (classificationAll[0] === 'all') {\n        yield put(catalogFilterChangeSuccess({ name: 'classification', value: [] }));\n      }\n    }\n    yield put(catalogFilterChangeSuccess({ name, value }));\n    yield put(catalogGet({ name, value }));\n  } catch (error) {\n  }\n}\n\n\nfunction* watchCatalogFilterChange() {\n  yield takeLatest(catalogFilterChange, workCatalogFilterChange);\n}\n\nfunction* workCatalogFilterSetValues({ payload }) {\n  try {\n    const all = payload?.classification?.[0];\n\n    if (all) {\n      yield put(resetFilterView({ exception: 'classification' }));\n    } else {\n      const classificationAll = yield select(getCatalogFilterByName('classification'));\n      if (classificationAll[0] === 'all') {\n        yield put(catalogFilterChangeSuccess({ name: 'classification', value: [] }));\n      }\n    }\n  } catch (e) {\n    // todo handle\n  }\n}\nfunction* watchCatalogFilterSetValues() {\n  yield takeEvery(catalogFilterSetValues, workCatalogFilterSetValues);\n}\n\nfunction* watchCatalogMainSearch() {\n  yield takeLatest(catalogMainSearch, function* workCatalogMainSearch({ payload: { searchWord } }) {\n    try {\n      Router.push(`/catalog?searchWord=${searchWord}`);\n    } catch (e) {\n      if (process.env.NODE_ENV === 'development') {\n        yield;\n        console.log(e);\n      }\n    }\n  });\n}\nexport {\n  watchCatalogFilterChange,\n  watchCatalogFilterSetValues,\n  watchCatalogMainSearch,\n};\n"]},"metadata":{},"sourceType":"module"}