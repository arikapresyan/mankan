{"ast":null,"code":"import { useDispatch } from 'react-redux';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useIntl } from 'react-intl';\nimport { useRouter } from 'next/router';\nimport { getMenuListReset, getMenuList } from '../../store/menu-list/action';\nexport default (() => {\n  const dispatch = useDispatch();\n  const {\n    0: showMenu,\n    1: setShowMenu\n  } = useState(false);\n  const {\n    0: mainHref,\n    1: setMainHref\n  } = useState('');\n  const {\n    0: timerId,\n    1: setTimerId\n  } = useState(null);\n  const router = useRouter();\n  useEffect(() => {\n    const handleLinkClick = () => {\n      setShowMenu(false);\n    };\n\n    router.events.on('routeChangeStart', handleLinkClick);\n    return () => {\n      router.events.off('routeChangeStart', handleLinkClick);\n    };\n  }, []);\n  const {\n    messages\n  } = useIntl();\n  const onMouseEnter = useCallback((menuList, menuItem) => {\n    clearTimeout(timerId);\n\n    if (menuList.name !== menuItem.name) {\n      setShowMenu(false);\n      dispatch(getMenuListReset());\n    }\n\n    const tId = setTimeout(() => {\n      if (menuList.name !== menuItem.name) {\n        dispatch(getMenuList({\n          name: menuItem.name,\n          messages\n        }));\n      }\n\n      setMainHref(menuItem.href);\n      setShowMenu(true);\n    }, 500);\n    setTimerId(tId);\n  }, [timerId, messages]);\n  const onMouseLeave = useCallback(() => {\n    clearTimeout(timerId);\n\n    if (showMenu) {\n      setShowMenu(false);\n      dispatch(getMenuListReset());\n    }\n  }, [showMenu, timerId]);\n  return {\n    showMenu,\n    mainHref,\n    onMouseEnter,\n    onMouseLeave\n  };\n});","map":{"version":3,"sources":["/var/www/mankan-front/components/header/useHoverHeader.js"],"names":["useDispatch","useCallback","useEffect","useState","useIntl","useRouter","getMenuListReset","getMenuList","dispatch","showMenu","setShowMenu","mainHref","setMainHref","timerId","setTimerId","router","handleLinkClick","events","on","off","messages","onMouseEnter","menuList","menuItem","clearTimeout","name","tId","setTimeout","href","onMouseLeave"],"mappings":"AAAA,SAASA,WAAT,QAA4B,aAA5B;AACA,SAASC,WAAT,EAAsBC,SAAtB,EAAiCC,QAAjC,QAAiD,OAAjD;AACA,SAASC,OAAT,QAAwB,YAAxB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,gBAAT,EAA2BC,WAA3B,QAA8C,8BAA9C;AAEA,gBAAe,MAAM;AACnB,QAAMC,QAAQ,GAAGR,WAAW,EAA5B;AACA,QAAM;AAAA,OAACS,QAAD;AAAA,OAAWC;AAAX,MAA0BP,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM;AAAA,OAACQ,QAAD;AAAA,OAAWC;AAAX,MAA0BT,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM;AAAA,OAACU,OAAD;AAAA,OAAUC;AAAV,MAAwBX,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAMY,MAAM,GAAGV,SAAS,EAAxB;AAGAH,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMc,eAAe,GAAG,MAAM;AAC5BN,MAAAA,WAAW,CAAC,KAAD,CAAX;AACD,KAFD;;AAGAK,IAAAA,MAAM,CAACE,MAAP,CAAcC,EAAd,CAAiB,kBAAjB,EAAqCF,eAArC;AAEA,WAAO,MAAM;AACXD,MAAAA,MAAM,CAACE,MAAP,CAAcE,GAAd,CAAkB,kBAAlB,EAAsCH,eAAtC;AACD,KAFD;AAGD,GATQ,EASN,EATM,CAAT;AAWA,QAAM;AAAEI,IAAAA;AAAF,MAAehB,OAAO,EAA5B;AACA,QAAMiB,YAAY,GAAGpB,WAAW,CAAC,CAACqB,QAAD,EAAWC,QAAX,KAAwB;AACvDC,IAAAA,YAAY,CAACX,OAAD,CAAZ;;AACA,QAAIS,QAAQ,CAACG,IAAT,KAAkBF,QAAQ,CAACE,IAA/B,EAAqC;AACnCf,MAAAA,WAAW,CAAC,KAAD,CAAX;AACAF,MAAAA,QAAQ,CAACF,gBAAgB,EAAjB,CAAR;AACD;;AACD,UAAMoB,GAAG,GAAGC,UAAU,CAAC,MAAM;AAC3B,UAAIL,QAAQ,CAACG,IAAT,KAAkBF,QAAQ,CAACE,IAA/B,EAAqC;AACnCjB,QAAAA,QAAQ,CAACD,WAAW,CAAC;AAAEkB,UAAAA,IAAI,EAAEF,QAAQ,CAACE,IAAjB;AAAuBL,UAAAA;AAAvB,SAAD,CAAZ,CAAR;AACD;;AACDR,MAAAA,WAAW,CAACW,QAAQ,CAACK,IAAV,CAAX;AACAlB,MAAAA,WAAW,CAAC,IAAD,CAAX;AACD,KANqB,EAMnB,GANmB,CAAtB;AAOAI,IAAAA,UAAU,CAACY,GAAD,CAAV;AACD,GAd+B,EAc7B,CAACb,OAAD,EAAUO,QAAV,CAd6B,CAAhC;AAgBA,QAAMS,YAAY,GAAG5B,WAAW,CAC9B,MAAM;AACJuB,IAAAA,YAAY,CAACX,OAAD,CAAZ;;AACA,QAAIJ,QAAJ,EAAc;AACZC,MAAAA,WAAW,CAAC,KAAD,CAAX;AACAF,MAAAA,QAAQ,CAACF,gBAAgB,EAAjB,CAAR;AACD;AACF,GAP6B,EAO3B,CAACG,QAAD,EAAWI,OAAX,CAP2B,CAAhC;AAUA,SAAO;AACLJ,IAAAA,QADK;AACKE,IAAAA,QADL;AACeU,IAAAA,YADf;AAC6BQ,IAAAA;AAD7B,GAAP;AAGD,CAjDD","sourcesContent":["import { useDispatch } from 'react-redux';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useIntl } from 'react-intl';\nimport { useRouter } from 'next/router';\nimport { getMenuListReset, getMenuList } from '../../store/menu-list/action';\n\nexport default () => {\n  const dispatch = useDispatch();\n  const [showMenu, setShowMenu] = useState(false);\n  const [mainHref, setMainHref] = useState('');\n  const [timerId, setTimerId] = useState(null);\n  const router = useRouter();\n\n\n  useEffect(() => {\n    const handleLinkClick = () => {\n      setShowMenu(false);\n    };\n    router.events.on('routeChangeStart', handleLinkClick);\n\n    return () => {\n      router.events.off('routeChangeStart', handleLinkClick);\n    };\n  }, []);\n\n  const { messages } = useIntl();\n  const onMouseEnter = useCallback((menuList, menuItem) => {\n    clearTimeout(timerId);\n    if (menuList.name !== menuItem.name) {\n      setShowMenu(false);\n      dispatch(getMenuListReset());\n    }\n    const tId = setTimeout(() => {\n      if (menuList.name !== menuItem.name) {\n        dispatch(getMenuList({ name: menuItem.name, messages }));\n      }\n      setMainHref(menuItem.href);\n      setShowMenu(true);\n    }, 500);\n    setTimerId(tId);\n  }, [timerId, messages]);\n\n  const onMouseLeave = useCallback(\n    () => {\n      clearTimeout(timerId);\n      if (showMenu) {\n        setShowMenu(false);\n        dispatch(getMenuListReset());\n      }\n    }, [showMenu, timerId],\n  );\n\n  return {\n    showMenu, mainHref, onMouseEnter, onMouseLeave,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}