{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useIntl } from 'react-intl';\nimport VacancyItem from './VacancyItem';\nimport ApplyOnlineModal from '../modals/apply_online_modal/ApplyOnlineModal';\nimport AttachCvModal from '../modals/attach-cv-modal/AttachCvModal';\nimport { selectFullPageData, selectPageData } from '../../store/pages-data/reducer';\nimport PagesLoader from '../pages-loader/PagesLoader';\nimport EmptyData from './components/EmptyData';\n\nfunction VacancyList() {\n  var _useIntl = useIntl(),\n      messages = _useIntl.messages;\n\n  var _useState = useState(true),\n      localeLoading = _useState[0],\n      setLocaleLoading = _useState[1];\n\n  var _ref = useSelector(selectPageData) || {},\n      pageData = _ref.rows;\n\n  var _useSelector = useSelector(selectFullPageData),\n      pageLoading = _useSelector.loading;\n\n  var _useState2 = useState({\n    vacancyId: null,\n    modalId: null\n  }),\n      modalInfo = _useState2[0],\n      setModalInfo = _useState2[1];\n\n  var hideModal = useCallback(function () {\n    setModalInfo({\n      vacancyId: null,\n      modalId: null\n    });\n  }, []);\n  useEffect(function () {\n    if (Array.isArray(pageData)) {\n      setLocaleLoading(false);\n    }\n  }, [pageData]);\n  var newPageData = pageData && !!pageData.length && (pageData === null || pageData === void 0 ? void 0 : pageData.filter(function (_ref2) {\n    var _langs$0$title, _langs$0$title$trim;\n\n    var langs = _ref2.langs;\n    return !!((_langs$0$title = langs[0].title) === null || _langs$0$title === void 0 ? void 0 : (_langs$0$title$trim = _langs$0$title.trim) === null || _langs$0$title$trim === void 0 ? void 0 : _langs$0$title$trim.call(_langs$0$title));\n  })) || [];\n  if (pageLoading) return __jsx(PagesLoader, null);\n  if (!(pageData === null || pageData === void 0 ? void 0 : pageData.length) || !newPageData.length) return __jsx(EmptyData, null);\n  return __jsx(React.Fragment, null, __jsx(\"h1\", null, messages['local.job_announcements']), __jsx(\"div\", {\n    className: \"vacancy_list\"\n  }, newPageData.map(function (vacancyData) {\n    return __jsx(VacancyItem, {\n      key: \"\".concat(vacancyData.id, \"vacancy\"),\n      vacancyData: vacancyData,\n      setModalInfo: setModalInfo\n    });\n  }), __jsx(ApplyOnlineModal, {\n    visible: modalInfo.modalId === 2,\n    handleHideModal: hideModal,\n    vacancyId: modalInfo.vacancyId\n  }), __jsx(AttachCvModal, {\n    visible: modalInfo.modalId === 1,\n    vacancyId: modalInfo.vacancyId,\n    handleHideModal: hideModal\n  })));\n}\n\nexport default VacancyList;","map":null,"metadata":{},"sourceType":"module"}