{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { useRouter } from 'next/router';\nimport { IntlProvider } from 'react-intl';\nimport Head from 'next/head';\nimport { SiteHeader, MobileMenuBar, SiteFooter } from './layout';\nimport CategoryMenuMobile from './components/mobile/category-menu-mobile/CategoryMenuContent';\nimport CategorySubmenuMobile from './components/mobile/category-menu-mobile/CategorySubmenuContent';\nimport FilterListSidebar from './components/mobile/filter-list-sidebar/FilterListWrapper';\nimport { resetCatalogFilterReducer } from './store/catalog-filter/action';\nimport messages from './staticText/messages';\nimport { hideAll } from './store/userEventListeners/action';\nimport BuyProductModal from './components/modals/buy-product-modal/BuyProductModal';\nimport { resetPageData } from './store/pages-data/action';\nimport PagesLoader from './components/pages-loader/PagesLoader';\nimport { getTextFromPath } from './components/common/constants';\n\nfunction App(_ref) {\n  var Component = _ref.Component,\n      pageProps = _ref.pageProps,\n      lang = _ref.lang,\n      hideAllAction = _ref.hideAllAction,\n      resetPageDataAction = _ref.resetPageDataAction;\n  var router = useRouter();\n  var pathname = router.pathname;\n  var title = useMemo(function () {\n    return getTextFromPath(pathname, messages[lang]) || 'Mankan';\n  }, [lang, pathname]);\n\n  var _useState = useState(false),\n      isPageLoading = _useState[0],\n      setIsPageLoading = _useState[1];\n\n  useEffect(function () {\n    router.events.on('routeChangeStart', function () {\n      resetPageDataAction();\n      window.scrollTo(0, 0);\n      setIsPageLoading(true);\n      hideAllAction();\n    });\n    router.events.on('routeChangeComplete', function () {\n      setIsPageLoading(false);\n    }); // router.events.beforePopState(({as}) => {\n    //   location.href = as;\n    // });\n  }, []);\n  return __jsx(IntlProvider, {\n    locale: \"en\",\n    defaultLocale: \"ARM\",\n    messages: messages[lang]\n  }, __jsx(Head, null, __jsx(\"title\", null, title)), __jsx(\"div\", {\n    className: \"App\"\n  }, __jsx(BuyProductModal, null), __jsx(SiteHeader, null), __jsx(MobileMenuBar, null), __jsx(CategoryMenuMobile, null), __jsx(CategorySubmenuMobile, null), __jsx(FilterListSidebar, null), isPageLoading ? __jsx(PagesLoader, null) : __jsx(Component, pageProps), __jsx(SiteFooter, null)));\n}\n\nfunction mapStateToProps(_ref2) {\n  var lang = _ref2.user.lang;\n  return {\n    lang: lang\n  };\n}\n\nexport default connect(mapStateToProps, {\n  resetCatalogFilterReducerAction: resetCatalogFilterReducer,\n  hideAllAction: hideAll,\n  resetPageDataAction: resetPageData\n})(App);","map":null,"metadata":{},"sourceType":"module"}