{"ast":null,"code":"var _jsxFileName = \"/var/www/mankan-front/components/catalog/index-filter-list/IndexFilterList.jsx\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useIntl } from 'react-intl';\nimport { useRouter } from 'next/router';\nimport Collapse from 'antd/lib/collapse';\nimport Icon from 'antd/lib/icon';\nimport Button from 'antd/lib/button';\nimport { connect } from 'react-redux';\nimport ClassificationFilter from '../filter-items/ClassificationFilter';\nimport PriceFilter from '../filter-items/PriceFilter';\nimport GenderFilter from '../filter-items/GenderFilter';\nimport AgeFilter from '../filter-items/AgeFilter';\nimport TypeFilter from '../filter-items/TypeFilter';\nimport MeaningFilter from '../filter-items/MeaningFilter';\nimport BrandFilter from '../filter-items/BrandFilter';\nimport { catalogFilterSetValues, catalogFilterChange } from '../../../store/catalog-filter/action';\nimport { hide } from '../../../store/userEventListeners/action';\nimport { catalogGet } from '../../../store/catalog/action';\nconst {\n  Panel\n} = Collapse;\n\nconst WrapperSimple = ({\n  children\n}) => children;\n\nconst gatData = (name, value, mode) => {\n  if (mode === 'mobile') return {\n    [name]: value\n  };\n  return {\n    name,\n    value\n  };\n};\n\nfunction IndexFilterList({\n  catalogFilterSetValuesAction,\n  catalogFilterChangeAction,\n  catalogGetAction,\n  hideAction,\n  filters,\n  mode\n}) {\n  const {\n    messages\n  } = useIntl();\n  const router = useRouter();\n\n  function hideFilter() {\n    hideAction({\n      name: 'isFilterListOpen'\n    });\n  }\n\n  const {\n    0: changedNames,\n    1: setChangedNames\n  } = useState([]); // const { toggleFilterMobile } = useContext(Context);\n\n  function onSaveFilter() {\n    hideFilter();\n    catalogGetAction({\n      loading: 1,\n      changedNames\n    });\n\n    if (!router.asPath.includes('catalog')) {\n      catalogFilterSetValuesAction({\n        isUserFilter: true\n      });\n      router.push('/catalog');\n    }\n\n    setChangedNames([]);\n  }\n\n  const isMobile = mode === 'mobile';\n  const actionByMode = isMobile ? catalogFilterSetValuesAction : catalogFilterChangeAction;\n  const Wrapper = isMobile ? Collapse : WrapperSimple;\n  const PanelIf = isMobile ? Panel : WrapperSimple;\n\n  const setChangedNamesAction = name => {\n    if (changedNames.indexOf(name) === -1 && isMobile) {\n      setChangedNames([...changedNames, name]);\n    }\n  };\n\n  const changeValue = name => value => {\n    if (value[value.length - 1] === 'all') {\n      value = ['all'];\n    } else {\n      const indexOfAll = value.indexOf('all');\n      if (indexOfAll !== -1) value.splice(indexOfAll, 1);\n    }\n\n    actionByMode(gatData(name, value, mode));\n    setChangedNamesAction(name);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    id: \"filter_list\",\n    className: isMobile ? 'filter_list_mobile' : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, __jsx(Wrapper, {\n    mode: mode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, __jsx(PanelIf, {\n    mode: mode,\n    header: messages['local.specification'],\n    key: \"1\",\n    showArrow: false,\n    extra: __jsx(Icon, {\n      type: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 20\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, __jsx(ClassificationFilter, {\n    onChange: changeValue('classification'),\n    extraFilters: filters.extraFilter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  })), __jsx(PanelIf, {\n    mode: mode,\n    header: messages['local.price'],\n    key: \"2\",\n    showArrow: false,\n    extra: __jsx(Icon, {\n      type: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 20\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, __jsx(PriceFilter, {\n    onChange: changeValue('price'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  })), __jsx(PanelIf, {\n    mode: mode,\n    header: messages['local.gender'],\n    key: \"3\",\n    showArrow: false,\n    extra: __jsx(Icon, {\n      type: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 20\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, __jsx(GenderFilter, {\n    onChange: value => {\n      actionByMode(gatData('gender', [value[value.length - 1] || []], mode));\n      setChangedNamesAction('gender');\n    },\n    genderFilter: filters.productSex,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  })), __jsx(PanelIf, {\n    mode: mode,\n    header: messages['local.age'],\n    key: \"4\",\n    showArrow: false,\n    extra: __jsx(Icon, {\n      type: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 20\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }, __jsx(AgeFilter, {\n    onChange: changeValue('age'),\n    ages: filters.productAge || {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  })), __jsx(PanelIf, {\n    mode: mode,\n    header: messages['local.type'],\n    key: \"5\",\n    showArrow: false,\n    extra: __jsx(Icon, {\n      type: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 20\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, __jsx(TypeFilter, {\n    onChange: changeValue('type'),\n    types: filters.productType || {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  })), __jsx(PanelIf, {\n    mode: mode,\n    header: messages['local.meaning'],\n    key: \"6\",\n    showArrow: false,\n    extra: __jsx(Icon, {\n      type: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 20\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }, __jsx(MeaningFilter, {\n    onChange: changeValue('meaning'),\n    meanings: filters.productUsage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  })), __jsx(PanelIf, {\n    mode: mode,\n    header: messages['local.brand'],\n    key: \"7\",\n    showArrow: false,\n    extra: __jsx(Icon, {\n      type: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 20\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }\n  }, __jsx(BrandFilter, {\n    onChange: changeValue('brand'),\n    brands: filters.brand,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  })))), mode === 'mobile' ? __jsx(React.Fragment, null, __jsx(Button, {\n    type: \"primary\",\n    className: \"save_btn\",\n    onClick: onSaveFilter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }\n  }, \"\\u054A\\u0561\\u0570\\u057A\\u0561\\u0576\\u0565\\u056C\"), __jsx(Button, {\n    type: \"default\",\n    shape: \"circle\",\n    icon: \"close\",\n    className: \"close_btn\",\n    onClick: () => {\n      hideFilter();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }\n  })) : null);\n}\n\nIndexFilterList.propTypes = {\n  catalogFilterChangeAction: PropTypes.func,\n  catalogFilterSetValuesAction: PropTypes.func,\n  catalogGetAction: PropTypes.func,\n  hideAction: PropTypes.func,\n  mode: PropTypes.string,\n  filters: PropTypes.objectOf(Object)\n};\nIndexFilterList.defaultProps = {\n  mode: '',\n  filters: {}\n};\n\nconst mapStateToProps = ({\n  catalogFilter: {\n    filters\n  }\n}) => ({\n  filters\n});\n\nexport default connect(mapStateToProps, {\n  catalogFilterSetValuesAction: catalogFilterSetValues,\n  catalogFilterChangeAction: catalogFilterChange,\n  catalogGetAction: catalogGet,\n  hideAction: hide\n})(IndexFilterList);","map":{"version":3,"sources":["/var/www/mankan-front/components/catalog/index-filter-list/IndexFilterList.jsx"],"names":["React","useState","PropTypes","useIntl","useRouter","Collapse","Icon","Button","connect","ClassificationFilter","PriceFilter","GenderFilter","AgeFilter","TypeFilter","MeaningFilter","BrandFilter","catalogFilterSetValues","catalogFilterChange","hide","catalogGet","Panel","WrapperSimple","children","gatData","name","value","mode","IndexFilterList","catalogFilterSetValuesAction","catalogFilterChangeAction","catalogGetAction","hideAction","filters","messages","router","hideFilter","changedNames","setChangedNames","onSaveFilter","loading","asPath","includes","isUserFilter","push","isMobile","actionByMode","Wrapper","PanelIf","setChangedNamesAction","indexOf","changeValue","length","indexOfAll","splice","extraFilter","productSex","productAge","productType","productUsage","brand","propTypes","func","string","objectOf","Object","defaultProps","mapStateToProps","catalogFilter"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useIntl } from 'react-intl';\nimport { useRouter } from 'next/router';\nimport  Collapse from 'antd/lib/collapse';\nimport  Icon from 'antd/lib/icon';\nimport  Button from 'antd/lib/button';\nimport { connect } from 'react-redux';\nimport ClassificationFilter from '../filter-items/ClassificationFilter';\nimport PriceFilter from '../filter-items/PriceFilter';\nimport GenderFilter from '../filter-items/GenderFilter';\nimport AgeFilter from '../filter-items/AgeFilter';\nimport TypeFilter from '../filter-items/TypeFilter';\nimport MeaningFilter from '../filter-items/MeaningFilter';\nimport BrandFilter from '../filter-items/BrandFilter';\nimport { catalogFilterSetValues, catalogFilterChange } from '../../../store/catalog-filter/action';\nimport { hide } from '../../../store/userEventListeners/action';\nimport { catalogGet } from '../../../store/catalog/action';\n\nconst { Panel } = Collapse;\n\n\nconst WrapperSimple = ({ children }) => children;\n\nconst gatData = (name, value, mode) => {\n  if (mode === 'mobile') return ({ [name]: value });\n  return ({ name, value });\n};\n\nfunction IndexFilterList({\n  catalogFilterSetValuesAction,\n  catalogFilterChangeAction,\n  catalogGetAction,\n  hideAction,\n  filters,\n  mode,\n}) {\n  const { messages } = useIntl();\n  const router = useRouter();\n  function hideFilter() {\n    hideAction({ name: 'isFilterListOpen' });\n  }\n  const [changedNames, setChangedNames] = useState([]);\n  // const { toggleFilterMobile } = useContext(Context);\n  function onSaveFilter() {\n    hideFilter();\n    catalogGetAction({ loading: 1, changedNames });\n    if (!router.asPath.includes('catalog')) {\n      catalogFilterSetValuesAction({ isUserFilter: true });\n      router.push('/catalog');\n    }\n    setChangedNames([]);\n  }\n  const isMobile = mode === 'mobile';\n  const actionByMode = isMobile ? catalogFilterSetValuesAction : catalogFilterChangeAction;\n  const Wrapper = isMobile ? Collapse : WrapperSimple;\n  const PanelIf = isMobile ? Panel : WrapperSimple;\n\n  const setChangedNamesAction = (name) => {\n    if (changedNames.indexOf(name) === -1 && isMobile) {\n      setChangedNames([...changedNames, name]);\n    }\n  };\n\n  const changeValue = (name) => (value) => {\n    if (value[value.length - 1] === 'all') {\n      value = ['all'];\n    } else {\n      const indexOfAll = value.indexOf('all');\n      if (indexOfAll !== -1) value.splice(indexOfAll, 1);\n    }\n    actionByMode(gatData(name, value, mode));\n    setChangedNamesAction(name);\n  };\n  return (\n    <>\n      <div id=\"filter_list\" className={isMobile ? 'filter_list_mobile' : ''}>\n        <Wrapper mode={mode}>\n          <PanelIf\n            mode={mode}\n            header={messages['local.specification']}\n            key=\"1\"\n            showArrow={false}\n            extra={<Icon type=\"right\" />}\n          >\n            <ClassificationFilter\n              onChange={changeValue('classification')}\n              extraFilters={filters.extraFilter}\n            />\n          </PanelIf>\n          <PanelIf\n            mode={mode}\n            header={messages['local.price']}\n            key=\"2\"\n            showArrow={false}\n            extra={<Icon type=\"right\" />}\n          >\n            <PriceFilter\n              onChange={changeValue('price')}\n            />\n          </PanelIf>\n\n          <PanelIf\n            mode={mode}\n            header={messages['local.gender']}\n            key=\"3\"\n            showArrow={false}\n            extra={<Icon type=\"right\" />}\n          >\n            <GenderFilter\n              onChange={(value) => {\n                actionByMode(\n                  gatData('gender', [value[value.length - 1] || []], mode),\n                );\n                setChangedNamesAction('gender');\n              }}\n              genderFilter={filters.productSex}\n            />\n          </PanelIf>\n          <PanelIf\n            mode={mode}\n            header={messages['local.age']}\n            key=\"4\"\n            showArrow={false}\n            extra={<Icon type=\"right\" />}\n          >\n            <AgeFilter\n              onChange={changeValue('age')}\n              ages={filters.productAge || {}}\n            />\n          </PanelIf>\n          <PanelIf\n            mode={mode}\n            header={messages['local.type']}\n            key=\"5\"\n            showArrow={false}\n            extra={<Icon type=\"right\" />}\n          >\n            <TypeFilter\n              onChange={changeValue('type')}\n              types={filters.productType || {}}\n            />\n          </PanelIf>\n          <PanelIf\n            mode={mode}\n            header={messages['local.meaning']}\n            key=\"6\"\n            showArrow={false}\n            extra={<Icon type=\"right\" />}\n          >\n            <MeaningFilter\n              onChange={changeValue('meaning')}\n              meanings={filters.productUsage}\n            />\n          </PanelIf>\n          <PanelIf\n            mode={mode}\n            header={messages['local.brand']}\n            key=\"7\"\n            showArrow={false}\n            extra={<Icon type=\"right\" />}\n          >\n            <BrandFilter\n              onChange={changeValue('brand')}\n              brands={filters.brand}\n            />\n          </PanelIf>\n\n        </Wrapper>\n\n      </div>\n      {mode === 'mobile'\n        ? (\n          <>\n            <Button type=\"primary\" className=\"save_btn\" onClick={onSaveFilter}>Պահպանել</Button>\n            <Button type=\"default\" shape=\"circle\" icon=\"close\" className=\"close_btn\" onClick={() => { hideFilter(); }} />\n          </>\n        )\n        : null}\n\n    </>\n\n  );\n}\n\nIndexFilterList.propTypes = {\n  catalogFilterChangeAction: PropTypes.func,\n  catalogFilterSetValuesAction: PropTypes.func,\n  catalogGetAction: PropTypes.func,\n  hideAction: PropTypes.func,\n  mode: PropTypes.string,\n  filters: PropTypes.objectOf(Object),\n};\n\nIndexFilterList.defaultProps = {\n  mode: '',\n  filters: {},\n};\n\nconst mapStateToProps = ({ catalogFilter: { filters } }) => ({ filters });\n\nexport default connect(mapStateToProps, {\n  catalogFilterSetValuesAction: catalogFilterSetValues,\n  catalogFilterChangeAction: catalogFilterChange,\n  catalogGetAction: catalogGet,\n  hideAction: hide,\n})(IndexFilterList);\n"]},"metadata":{},"sourceType":"module"}