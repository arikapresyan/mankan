{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{\"39JR\":function(t,e,a){\"use strict\";a.r(e);var c=a(\"q1tI\"),n=a.n(c),o=a(\"4IMT\"),i=a.n(o),s=a(\"g4D/\"),l=a.n(s),r=a(\"d1El\"),u=a.n(r),d=a(\"9xET\"),m=a.n(d),b=a(\"ZPTe\"),_=a.n(b),p=a(\"jEQ5\"),x=a.n(p),v=a(\"hBX+\"),f=a(\"52Oh\"),h=a(\"nOHt\"),N=a.n(h),g=a(\"QCp2\"),C=a(\"O6kt\"),y=a(\"fuBQ\"),O=a(\"XIGL\"),j=n.a.createElement,M=y.a.IMAGE_POSTFIX;var A=function(t){var e=t.product,a=t.localChanges,n=t.handleHideModal,o=t.bonus,i=Object(g.a)().cartAddProductAction,s=Object(f.a)().messages,l=j(\"span\",null,s[\"local.modal_battery\"]),r=e.size,u=e.brand,d=e.id,m=e.percent,b=e.price,_=e.accessories,p=e.photos,x=e.xmlCount,v=e.xmlBarCode,h=Object(c.useState)(!1),y=h[0],A=h[1],T=Object(c.useState)(a[e.id]&&a[e.id].count||e.count||1),B=T[0],w=T[1],k=Object(c.useMemo)((function(){return Object(C.f)(_)}),[_]);Object(c.useEffect)((function(){k&&a[d]&&(a[d].hasBattery||a[d].batteryId)&&k.xmlCount&&A(!0)}),[k,a]);var I=Object(c.useMemo)((function(){return k&&\"\".concat(k.ProductAccessoriesMap.count,\"  \").concat(s[\"local.item(s)\"],\" \").concat(k.name)}),[k,s]),P=Object(c.useMemo)((function(){return Object(C.h)(u)}),[u]),z=Object(c.useMemo)((function(){return Object(C.i)(r)}),[r]),E=Object(c.useMemo)((function(){return Object(C.e)(e.minAge,e.maxAge)}),[e.minAge,e.maxAge]),q=Object(c.useMemo)((function(){return p?{url:\"\".concat(M).concat(d,\"/\").concat(p[0].url),alt:p[0].alt,title:p[0].title}:{}}),[p]),H=Object(O.a)(e),S=H.newPrice,J=H.oldPrice,Q=Object(c.useMemo)((function(){return Object(C.c)(S,o||2,B)}),[S,o,B]),R=Object(c.useMemo)((function(){return S*B}),[S,B]),X=function(t){i(Object(C.b)({hasBattery:y,battery:k,count:B,product:e}),\"/cart\"===N.a.router.route||t),n()},G=Object(c.useCallback)((function(){return j(\"span\",null,s[\"local.can_use_bonus_if\"])}),[s]);return{addToCartAndRedirect:function(){X(!0)},addToCart:X,bonusText:Q,batteryText:I,brandName:P,sizeText:z,photo:q,text:l,setCount:w,messages:s,xmlPrice:J,percent:m,battery:k,productAga:E,text2:G,id:d,count:B,hasBattery:y,setHasBattery:A,price:b,xmlCount:x,xmlBarCode:v,priceBayCount:R}},T=n.a.createElement;e.default=function(t){var e=t.wishlistChangeItemAction,a=t.handleHideModal,n=t.localChanges,o=t.inWishlist,s=t.product,r=t.isInCart,d=t.bonus,b=A({product:s,localChanges:n,handleHideModal:a,bonus:d}),p=b.addToCartAndRedirect,f=b.addToCart,h=b.bonusText,N=b.batteryText,g=b.brandName,y=b.sizeText,O=b.photo,j=b.battery,M=b.text,B=b.text2,w=b.setCount,k=b.xmlPrice,I=b.percent,P=b.productAga,z=b.messages,E=b.count,q=b.hasBattery,H=b.setHasBattery,S=b.xmlCount,J=b.xmlBarCode,Q=b.priceBayCount,R=Object(c.useMemo)((function(){return Object(C.g)(s.boxSize)}),[s.boxSize,C.g]),X=[{visible:R,name:z[\"local.box_size\"],text:R+z[\"local.sm\"]},{visible:null===y||void 0===y?void 0:y.trim(),name:z[\"local.size\"],text:\"\".concat(y,\" \").concat(z[\"local.sm\"])},{visible:!0,name:z[\"local.age\"],text:\"\".concat(P,\" \").concat(z[\"local.shortYear\"],\"\\u2024\")},{visible:g,name:z[\"local.brand\"],text:g},{visible:j,name:z[\"local.battery\"],text:N},{visible:!0,name:z[\"local.barcode\"],text:J}];return T(m.a,{gutter:30,className:\"modal_content\"},T(_.a,{sm:24,md:12,lg:6},T(\"div\",{className:\"prod_image\"},T(\"img\",{src:O.url,alt:O.alt,title:O.title}))),T(_.a,{sm:24,md:12,lg:9,className:\"characteristics_list_web\"},T(\"div\",{className:\"characteristics_list\"},X.map((function(t,e){var a=t.visible,c=t.name,n=t.text;return a?T(\"div\",{className:\"characteristics_list_item\",key:e},T(\"div\",{className:\"characteristic_name\"},c),T(\"div\",{className:\"characteristic_description\"},n)):null})))),T(_.a,{sm:24,md:12,lg:9},T(\"div\",{className:\"product_info\"},T(\"div\",{className:\"product_price_box product_info_item clearfix\"},T(\"span\",{className:\"product_price\"},Q,\" \",z[\"local.dr\"],\"\\u2024\",I>0&&T(\"span\",{className:\"old_price\"},k*E,z[\"local.dr\"],\"\\u2024\"))),T(\"div\",{className:\"product_quantity_box product_info_item clearfix\"},T(\"div\",{className:\"product_quantity_title\"},z[\"local.quantity\"]),T(v.a,{value:E,onChange:w,xmlCount:S})),j?T(\"div\",{className:\"bonus_box product_info_item clearfix\"},T(\"div\",{className:\"add_prod\"},T(l.a,{checked:q,onChange:function(t){var e=t.target.checked;return H(e)}},z[\"local.add_batteries\"])),j&&T(\"div\",{className:\"bonus_quantity\"},j.price*j.ProductAccessoriesMap.count*E,\" \",z[\"local.dr\"],\".\",T(u.a,{placement:\"bottom\",title:M,className:\"info_tooltip\"},T(\"span\",null,T(\"img\",{src:x.a,alt:\"\"}))))):null,T(\"div\",{className:\"bonus_box product_info_item clearfix\"},T(\"p\",null,z[\"local.bonus\"]),T(\"div\",{className:\"bonus_quantity\"},h,\" \",h&&z[\"local.dr\"],\"\\u2024\",T(u.a,{placement:\"bottom\",title:B,className:\"info_tooltip\"},T(\"span\",null,T(\"img\",{src:x.a,alt:\"\"}))))),T(\"div\",{className:\"characteristics_list characteristics_list_mobile\"},X.map((function(t,e){var a=t.visible,c=t.name,n=t.text;return a?T(\"div\",{className:\"characteristics_list_item\",key:e},T(\"div\",{className:\"characteristic_name\"},c),T(\"div\",{className:\"characteristic_description\"},n)):null}))),T(\"div\",{className:\"btn_group clearfix\"},T(i.a,{className:\"buy_now_btn\",disabled:!S||r,onClick:f},r?z[\"local.already_in_cart\"]:z[\"local.add_to_cart\"]),T(\"button\",{type:\"button\",className:\"ant-btn add_to_wishlist \".concat(o?\"is_selected\":\"is_active\"),onClick:function(){return e({productId:s.id})}}),T(i.a,{className:\"add_to_cart_btn\",onClick:p,disabled:!S},z[\"local.buy_now\"])))))}}}]);","extractedComments":[]}