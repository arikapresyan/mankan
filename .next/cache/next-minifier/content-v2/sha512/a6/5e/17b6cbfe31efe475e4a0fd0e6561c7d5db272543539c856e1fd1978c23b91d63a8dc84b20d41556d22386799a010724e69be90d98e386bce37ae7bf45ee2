{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{\"39JR\":function(t,e,a){\"use strict\";a.r(e);var c=a(\"q1tI\"),n=a.n(c),i=a(\"BMrR\"),o=a(\"kPKH\"),s=a(\"kaz8\"),l=a(\"3S7+\"),r=a(\"2/Rp\"),u=a(\"jEQ5\"),d=a.n(u),m=a(\"hBX+\"),b=a(\"52Oh\"),_=a(\"QCp2\"),p=a(\"O6kt\"),x=a(\"fuBQ\"),v=n.a.createElement,f=x.a.IMAGE_POSTFIX;var h=function(t){var e=t.product,a=t.localChanges,n=t.handleHideModal,i=t.bonus,o=Object(_.a)().cartAddProductAction,s=Object(b.a)().messages,l=v(\"span\",null,s[\"local.modal_battery\"]),r=e.size,u=e.brand,d=e.id,m=e.percent,x=e.price,h=e.accessories,N=e.xmlPrice,g=e.photos,C=e.xmlCount,y=e.xmlBarCode,O=Object(c.useState)(!1),j=O[0],M=O[1],A=Object(c.useState)(a[e.id]&&a[e.id].count||e.count||1),B=A[0],k=A[1],w=Object(c.useMemo)((function(){return Object(p.f)(h)}),[h]);Object(c.useEffect)((function(){w&&a[d]&&(a[d].hasBattery||a[d].batteryId)&&w.xmlCount&&M(!0)}),[w,a]);var T=Object(c.useMemo)((function(){return w&&\"\".concat(w.ProductAccessoriesMap.count,\"  \").concat(s[\"local.item(s)\"],\" \").concat(w.name)}),[w,s]),z=Object(c.useMemo)((function(){return Object(p.h)(u)}),[u]),P=Object(c.useMemo)((function(){return Object(p.i)(r)}),[r]),I=Object(c.useMemo)((function(){return Object(p.e)(e.minAge,e.maxAge)}),[e.minAge,e.maxAge]),q=Object(c.useMemo)((function(){return g?{url:\"\".concat(f).concat(d,\"/\").concat(g[0].url),alt:g[0].alt,title:g[0].title}:{}}),[g]),H=Object(c.useMemo)((function(){return Object(p.c)(x,i||2,B)}),[x,i,B]),S=Object(c.useMemo)((function(){return x*B}),[x,B]),E=function(t){o(Object(p.b)({hasBattery:j,battery:w,count:B,product:e}),t),n()},R=Object(c.useCallback)((function(){return v(\"span\",null,s[\"local.can_use_bonus_if\"])}),[s]);return{addToCartAndRedirect:function(){E(!0)},addToCart:E,bonusText:H,batteryText:T,brandName:z,sizeText:P,photo:q,text:l,setCount:k,messages:s,xmlPrice:N,percent:m,battery:w,productAga:I,text2:R,id:d,count:B,hasBattery:j,setHasBattery:M,price:x,xmlCount:C,xmlBarCode:y,priceBayCount:S}},N=n.a.createElement;e.default=function(t){var e=t.wishlistChangeItemAction,a=t.handleHideModal,n=t.localChanges,u=t.inWishlist,b=t.product,_=t.isInCart,x=t.bonus,v=h({product:b,localChanges:n,handleHideModal:a,bonus:x}),f=v.addToCartAndRedirect,g=v.addToCart,C=v.bonusText,y=v.batteryText,O=v.brandName,j=v.sizeText,M=v.photo,A=v.battery,B=v.text,k=v.text2,w=v.setCount,T=v.xmlPrice,z=v.percent,P=v.productAga,I=v.messages,q=v.count,H=v.hasBattery,S=v.setHasBattery,E=v.xmlCount,R=v.xmlBarCode,J=v.priceBayCount,Q=Object(c.useMemo)((function(){return Object(p.g)(b.boxSize)}),[b.boxSize,p.g]),X=[{visible:Q,name:I[\"local.box_size\"],text:Q+I[\"local.sm\"]},{visible:null===j||void 0===j?void 0:j.trim(),name:I[\"local.size\"],text:\"\".concat(j,\" \").concat(I[\"local.sm\"])},{visible:!0,name:I[\"local.age\"],text:\"\".concat(P,\" \").concat(I[\"local.shortYear\"],\"\\u2024\")},{visible:O,name:I[\"local.brand\"],text:O},{visible:A,name:I[\"local.battery\"],text:y},{visible:!0,name:I[\"local.barcode\"],text:R}];return N(i.a,{gutter:30,className:\"modal_content\"},N(o.a,{sm:24,md:12,lg:6},N(\"div\",{className:\"prod_image\"},N(\"img\",{src:M.url,alt:M.alt,title:M.title}))),N(o.a,{sm:24,md:12,lg:9,className:\"characteristics_list_web\"},N(\"div\",{className:\"characteristics_list\"},X.map((function(t,e){var a=t.visible,c=t.name,n=t.text;return a?N(\"div\",{className:\"characteristics_list_item\",key:e},N(\"div\",{className:\"characteristic_name\"},c),N(\"div\",{className:\"characteristic_description\"},n)):null})))),N(o.a,{sm:24,md:12,lg:9},N(\"div\",{className:\"product_info\"},N(\"div\",{className:\"product_price_box product_info_item clearfix\"},N(\"span\",{className:\"product_price\"},J,\" \",I[\"local.dr\"],\"\\u2024\",z>0&&N(\"span\",{className:\"old_price\"},T*q,I[\"local.dr\"],\"\\u2024\"))),N(\"div\",{className:\"product_quantity_box product_info_item clearfix\"},N(\"div\",{className:\"product_quantity_title\"},I[\"local.quantity\"]),N(m.a,{value:q,onChange:w,xmlCount:E})),A?N(\"div\",{className:\"bonus_box product_info_item clearfix\"},N(\"div\",{className:\"add_prod\"},N(s.a,{checked:H,onChange:function(t){var e=t.target.checked;return S(e)}},I[\"local.add_batteries\"])),A&&N(\"div\",{className:\"bonus_quantity\"},A.price*A.ProductAccessoriesMap.count*q,\" \",I[\"local.dr\"],\".\",N(l.a,{placement:\"bottom\",title:B,className:\"info_tooltip\"},N(\"span\",null,N(\"img\",{src:d.a,alt:\"\"}))))):null,N(\"div\",{className:\"bonus_box product_info_item clearfix\"},N(\"p\",null,I[\"local.bonus\"]),N(\"div\",{className:\"bonus_quantity\"},C,\" \",C&&I[\"local.dr\"],\"\\u2024\",N(l.a,{placement:\"bottom\",title:k,className:\"info_tooltip\"},N(\"span\",null,N(\"img\",{src:d.a,alt:\"\"}))))),N(\"div\",{className:\"characteristics_list characteristics_list_mobile\"},X.map((function(t,e){var a=t.visible,c=t.name,n=t.text;return a?N(\"div\",{className:\"characteristics_list_item\",key:e},N(\"div\",{className:\"characteristic_name\"},c),N(\"div\",{className:\"characteristic_description\"},n)):null}))),N(\"div\",{className:\"btn_group clearfix\"},N(r.a,{className:\"buy_now_btn\",disabled:!E||_,onClick:g},_?I[\"local.already_in_cart\"]:I[\"local.add_to_cart\"]),N(\"button\",{type:\"button\",className:\"ant-btn add_to_wishlist \".concat(u?\"is_selected\":\"is_active\"),onClick:function(){return e({productId:b.id})}}),N(r.a,{className:\"add_to_cart_btn\",onClick:f,disabled:!E},I[\"local.buy_now\"])))))}}}]);","extractedComments":[]}