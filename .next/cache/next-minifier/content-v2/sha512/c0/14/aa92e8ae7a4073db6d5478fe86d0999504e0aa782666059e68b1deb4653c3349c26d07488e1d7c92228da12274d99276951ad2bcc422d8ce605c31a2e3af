{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{\"39JR\":function(t,e,a){\"use strict\";a.r(e);var c=a(\"q1tI\"),n=a.n(c),o=a(\"4IMT\"),i=a.n(o),s=a(\"g4D/\"),l=a.n(s),r=a(\"d1El\"),u=a.n(r),d=a(\"9xET\"),m=a.n(d),b=a(\"ZPTe\"),_=a.n(b),p=a(\"jEQ5\"),x=a(\"hBX+\"),v=a(\"52Oh\"),f=a(\"nOHt\"),h=a.n(f),N=a(\"QCp2\"),g=a(\"O6kt\"),C=a(\"fuBQ\"),y=a(\"XIGL\"),O=n.a.createElement,j=C.a.IMAGE_POSTFIX;var M=function(t){var e=t.product,a=t.localChanges,n=t.handleHideModal,o=t.bonus,i=Object(N.a)().cartAddProductAction,s=Object(v.a)().messages,l=O(\"span\",null,s[\"local.modal_battery\"]),r=e.size,u=e.brand,d=e.id,m=e.percent,b=e.price,_=e.accessories,p=e.photos,x=e.xmlCount,f=e.xmlBarCode,C=Object(c.useState)(!1),M=C[0],A=C[1],T=Object(c.useState)(a[e.id]&&a[e.id].count||e.count||1),B=T[0],w=T[1],k=Object(c.useMemo)((function(){return Object(g.f)(_)}),[_]);Object(c.useEffect)((function(){k&&a[d]&&(a[d].hasBattery||a[d].batteryId)&&k.xmlCount&&A(!0)}),[k,a]);var I=Object(c.useMemo)((function(){return k&&\"\".concat(k.ProductAccessoriesMap.count,\"  \").concat(s[\"local.item(s)\"],\" \").concat(k.name)}),[k,s]),P=Object(c.useMemo)((function(){return Object(g.h)(u)}),[u]),z=Object(c.useMemo)((function(){return Object(g.i)(r)}),[r]),E=Object(c.useMemo)((function(){return Object(g.e)(e.minAge,e.maxAge)}),[e.minAge,e.maxAge]),q=Object(c.useMemo)((function(){var t=p?p.sort((function(t,e){return t.order-e.order}))[0]:null;return t?{url:\"\".concat(j).concat(d,\"/\").concat(t.url),alt:t.alt,title:t.title}:{}}),[p]),H=Object(y.a)(e),S=H.newPrice,J=H.oldPrice,Q=Object(c.useMemo)((function(){return Object(g.c)(S,o||2,B)}),[S,o,B]),R=Object(c.useMemo)((function(){return S*B}),[S,B]),X=function(t){i(Object(g.b)({hasBattery:M,battery:k,count:B,product:e}),\"/cart\"===h.a.router.route||t),n()},G=Object(c.useCallback)((function(){return O(\"span\",null,s[\"local.can_use_bonus_if\"])}),[s]);return{addToCartAndRedirect:function(){X(!0)},addToCart:X,bonusText:Q,batteryText:I,brandName:P,sizeText:z,photo:q,text:l,setCount:w,messages:s,xmlPrice:J,percent:m,battery:k,productAga:E,text2:G,id:d,count:B,hasBattery:M,setHasBattery:A,price:b,xmlCount:x,xmlBarCode:f,priceBayCount:R}},A=n.a.createElement;e.default=function(t){var e=t.wishlistChangeItemAction,a=t.handleHideModal,n=t.localChanges,o=t.inWishlist,s=t.product,r=t.isInCart,d=t.bonus,b=M({product:s,localChanges:n,handleHideModal:a,bonus:d}),v=b.addToCartAndRedirect,f=b.addToCart,h=b.bonusText,N=b.batteryText,C=b.brandName,y=b.sizeText,O=b.photo,j=b.battery,T=b.text,B=b.text2,w=b.setCount,k=b.xmlPrice,I=b.percent,P=b.productAga,z=b.messages,E=b.count,q=b.hasBattery,H=b.setHasBattery,S=b.xmlCount,J=b.xmlBarCode,Q=b.priceBayCount,R=Object(c.useMemo)((function(){return Object(g.g)(s.boxSize)}),[s.boxSize,g.g]),X=[{visible:R,name:z[\"local.box_size\"],text:R+z[\"local.sm\"]},{visible:null===y||void 0===y?void 0:y.trim(),name:z[\"local.size\"],text:\"\".concat(y,\" \").concat(z[\"local.sm\"])},{visible:!0,name:z[\"local.age\"],text:\"\".concat(P,\" \").concat(z[\"local.shortYear\"],\"\\u2024\")},{visible:C,name:z[\"local.brand\"],text:C},{visible:j,name:z[\"local.battery\"],text:N},{visible:!0,name:z[\"local.barcode\"],text:J}];return A(m.a,{gutter:30,className:\"modal_content\"},A(_.a,{sm:24,md:12,lg:6},A(\"div\",{className:\"prod_image\"},A(\"img\",{src:O.url,alt:O.alt,title:O.title}))),A(_.a,{sm:24,md:12,lg:9,className:\"characteristics_list_web\"},A(\"div\",{className:\"characteristics_list\"},X.map((function(t,e){var a=t.visible,c=t.name,n=t.text;return a?A(\"div\",{className:\"characteristics_list_item\",key:e},A(\"div\",{className:\"characteristic_name\"},c),A(\"div\",{className:\"characteristic_description\"},n)):null})))),A(_.a,{sm:24,md:12,lg:9},A(\"div\",{className:\"product_info\"},A(\"div\",{className:\"product_price_box product_info_item clearfix\"},A(\"span\",{className:\"product_price\"},Q,\" \",z[\"local.dr\"],\"\\u2024\",I>0&&A(\"span\",{className:\"old_price\"},k*E,z[\"local.dr\"],\"\\u2024\"))),A(\"div\",{className:\"product_quantity_box product_info_item clearfix\"},A(\"div\",{className:\"product_quantity_title\"},z[\"local.quantity\"]),A(x.a,{value:E,onChange:w,xmlCount:S})),j?A(\"div\",{className:\"bonus_box product_info_item clearfix\"},A(\"div\",{className:\"add_prod\"},A(l.a,{checked:q,onChange:function(t){var e=t.target.checked;return H(e)}},z[\"local.add_batteries\"])),j&&A(\"div\",{className:\"bonus_quantity\"},j.price*j.ProductAccessoriesMap.count*E,\" \",z[\"local.dr\"],\".\",A(u.a,{placement:\"bottom\",title:T,className:\"info_tooltip\"},A(\"span\",null,A(\"img\",{src:p.a,alt:\"\"}))))):null,A(\"div\",{className:\"bonus_box product_info_item clearfix\"},A(\"p\",null,z[\"local.bonus\"]),A(\"div\",{className:\"bonus_quantity\"},h,\" \",h&&z[\"local.dr\"],\"\\u2024\",A(u.a,{placement:\"bottom\",title:B,className:\"info_tooltip\"},A(\"span\",null,A(\"img\",{src:p.a,alt:\"\"}))))),A(\"div\",{className:\"characteristics_list characteristics_list_mobile\"},X.map((function(t,e){var a=t.visible,c=t.name,n=t.text;return a?A(\"div\",{className:\"characteristics_list_item\",key:e},A(\"div\",{className:\"characteristic_name\"},c),A(\"div\",{className:\"characteristic_description\"},n)):null}))),A(\"div\",{className:\"btn_group clearfix\"},A(i.a,{className:\"buy_now_btn\",disabled:!S||r,onClick:f},r?z[\"local.already_in_cart\"]:z[\"local.add_to_cart\"]),A(\"button\",{type:\"button\",className:\"ant-btn add_to_wishlist \".concat(o?\"is_selected\":\"is_active\"),onClick:function(){return e({productId:s.id})}}),A(i.a,{className:\"add_to_cart_btn\",onClick:v,disabled:!S},z[\"local.buy_now\"])))))}}}]);","extractedComments":[]}