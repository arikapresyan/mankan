{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{\"39JR\":function(t,e,a){\"use strict\";a.r(e);var c=a(\"q1tI\"),n=a.n(c),i=a(\"4IMT\"),o=a.n(i),s=a(\"g4D/\"),l=a.n(s),r=a(\"d1El\"),u=a.n(r),d=a(\"9xET\"),m=a.n(d),b=a(\"ZPTe\"),_=a.n(b),p=a(\"jEQ5\"),x=a.n(p),v=a(\"hBX+\"),f=a(\"52Oh\"),h=a(\"QCp2\"),N=a(\"O6kt\"),g=a(\"fuBQ\"),C=n.a.createElement,y=g.a.IMAGE_POSTFIX;var O=function(t){var e=t.product,a=t.localChanges,n=t.handleHideModal,i=t.bonus,o=Object(h.a)().cartAddProductAction,s=Object(f.a)().messages,l=C(\"span\",null,s[\"local.modal_battery\"]),r=e.size,u=e.brand,d=e.id,m=e.percent,b=e.price,_=e.accessories,p=e.xmlPrice,x=e.photos,v=e.xmlCount,g=e.xmlBarCode,O=Object(c.useState)(!1),j=O[0],M=O[1],A=Object(c.useState)(a[e.id]&&a[e.id].count||e.count||1),T=A[0],B=A[1],k=Object(c.useMemo)((function(){return Object(N.f)(_)}),[_]);Object(c.useEffect)((function(){k&&a[d]&&(a[d].hasBattery||a[d].batteryId)&&k.xmlCount&&M(!0)}),[k,a]);var w=Object(c.useMemo)((function(){return k&&\"\".concat(k.ProductAccessoriesMap.count,\"  \").concat(s[\"local.item(s)\"],\" \").concat(k.name)}),[k,s]),I=Object(c.useMemo)((function(){return Object(N.h)(u)}),[u]),P=Object(c.useMemo)((function(){return Object(N.i)(r)}),[r]),z=Object(c.useMemo)((function(){return Object(N.e)(e.minAge,e.maxAge)}),[e.minAge,e.maxAge]),E=Object(c.useMemo)((function(){return x?{url:\"\".concat(y).concat(d,\"/\").concat(x[0].url),alt:x[0].alt,title:x[0].title}:{}}),[x]),q=Object(c.useMemo)((function(){return Object(N.c)(b,i||2,T)}),[b,i,T]),H=Object(c.useMemo)((function(){return b*T}),[b,T]),S=function(t){o(Object(N.b)({hasBattery:j,battery:k,count:T,product:e}),t),n()},J=Object(c.useCallback)((function(){return C(\"span\",null,s[\"local.can_use_bonus_if\"])}),[s]);return{addToCartAndRedirect:function(){S(!0)},addToCart:S,bonusText:q,batteryText:w,brandName:I,sizeText:P,photo:E,text:l,setCount:B,messages:s,xmlPrice:p,percent:m,battery:k,productAga:z,text2:J,id:d,count:T,hasBattery:j,setHasBattery:M,price:b,xmlCount:v,xmlBarCode:g,priceBayCount:H}},j=n.a.createElement;e.default=function(t){var e=t.wishlistChangeItemAction,a=t.handleHideModal,n=t.localChanges,i=t.inWishlist,s=t.product,r=t.isInCart,d=t.bonus,b=O({product:s,localChanges:n,handleHideModal:a,bonus:d}),p=b.addToCartAndRedirect,f=b.addToCart,h=b.bonusText,g=b.batteryText,C=b.brandName,y=b.sizeText,M=b.photo,A=b.battery,T=b.text,B=b.text2,k=b.setCount,w=b.xmlPrice,I=b.percent,P=b.productAga,z=b.messages,E=b.count,q=b.hasBattery,H=b.setHasBattery,S=b.xmlCount,J=b.xmlBarCode,Q=b.priceBayCount,R=Object(c.useMemo)((function(){return Object(N.g)(s.boxSize)}),[s.boxSize,N.g]),X=[{visible:R,name:z[\"local.box_size\"],text:R+z[\"local.sm\"]},{visible:null===y||void 0===y?void 0:y.trim(),name:z[\"local.size\"],text:\"\".concat(y,\" \").concat(z[\"local.sm\"])},{visible:!0,name:z[\"local.age\"],text:\"\".concat(P,\" \").concat(z[\"local.shortYear\"],\"\\u2024\")},{visible:C,name:z[\"local.brand\"],text:C},{visible:A,name:z[\"local.battery\"],text:g},{visible:!0,name:z[\"local.barcode\"],text:J}];return j(m.a,{gutter:30,className:\"modal_content\"},j(_.a,{sm:24,md:12,lg:6},j(\"div\",{className:\"prod_image\"},j(\"img\",{src:M.url,alt:M.alt,title:M.title}))),j(_.a,{sm:24,md:12,lg:9,className:\"characteristics_list_web\"},j(\"div\",{className:\"characteristics_list\"},X.map((function(t,e){var a=t.visible,c=t.name,n=t.text;return a?j(\"div\",{className:\"characteristics_list_item\",key:e},j(\"div\",{className:\"characteristic_name\"},c),j(\"div\",{className:\"characteristic_description\"},n)):null})))),j(_.a,{sm:24,md:12,lg:9},j(\"div\",{className:\"product_info\"},j(\"div\",{className:\"product_price_box product_info_item clearfix\"},j(\"span\",{className:\"product_price\"},Q,\" \",z[\"local.dr\"],\"\\u2024\",I>0&&j(\"span\",{className:\"old_price\"},w*E,z[\"local.dr\"],\"\\u2024\"))),j(\"div\",{className:\"product_quantity_box product_info_item clearfix\"},j(\"div\",{className:\"product_quantity_title\"},z[\"local.quantity\"]),j(v.a,{value:E,onChange:k,xmlCount:S})),A?j(\"div\",{className:\"bonus_box product_info_item clearfix\"},j(\"div\",{className:\"add_prod\"},j(l.a,{checked:q,onChange:function(t){var e=t.target.checked;return H(e)}},z[\"local.add_batteries\"])),A&&j(\"div\",{className:\"bonus_quantity\"},A.price*A.ProductAccessoriesMap.count*E,\" \",z[\"local.dr\"],\".\",j(u.a,{placement:\"bottom\",title:T,className:\"info_tooltip\"},j(\"span\",null,j(\"img\",{src:x.a,alt:\"\"}))))):null,j(\"div\",{className:\"bonus_box product_info_item clearfix\"},j(\"p\",null,z[\"local.bonus\"]),j(\"div\",{className:\"bonus_quantity\"},h,\" \",h&&z[\"local.dr\"],\"\\u2024\",j(u.a,{placement:\"bottom\",title:B,className:\"info_tooltip\"},j(\"span\",null,j(\"img\",{src:x.a,alt:\"\"}))))),j(\"div\",{className:\"characteristics_list characteristics_list_mobile\"},X.map((function(t,e){var a=t.visible,c=t.name,n=t.text;return a?j(\"div\",{className:\"characteristics_list_item\",key:e},j(\"div\",{className:\"characteristic_name\"},c),j(\"div\",{className:\"characteristic_description\"},n)):null}))),j(\"div\",{className:\"btn_group clearfix\"},j(o.a,{className:\"buy_now_btn\",disabled:!S||r,onClick:f},r?z[\"local.already_in_cart\"]:z[\"local.add_to_cart\"]),j(\"button\",{type:\"button\",className:\"ant-btn add_to_wishlist \".concat(i?\"is_selected\":\"is_active\"),onClick:function(){return e({productId:s.id})}}),j(o.a,{className:\"add_to_cart_btn\",onClick:p,disabled:!S},z[\"local.buy_now\"])))))}}}]);","extractedComments":[]}