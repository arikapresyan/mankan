(this.webpackJsonpmankan_admin_panel=this.webpackJsonpmankan_admin_panel||[]).push([[16],{740:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0);function r(e,t,n,r){return Object(a.useEffect)((function(){return t({name:e}),function(){n({name:e}),r()}}),[t,e,n,r]),{changePage:Object(a.useCallback)((function(n){t({name:e,page:n})}),[t,e])}}},787:function(e,t,n){"use strict";n.r(t);n(411);var a=n(302),r=(n(413),n(250)),c=n(0),i=n.n(c),o=n(30),d=n(71),s=n(43);function u(e){var t=Object(o.d)((function(e){return e.tables.page})),n=Object(c.useState)([]),a=Object(s.a)(n,2),r=a[0],u=a[1];return Object(c.useEffect)((function(){return u([])}),[t]),{columns:[{title:"Id",dataIndex:"id",key:"1"},{title:"\u0533\u0580\u0561\u0576\u0581\u0574\u0561\u0576 \u0561\u0574\u057d\u0561\u0569\u056b\u057e",dataIndex:"createdAt",key:"2",render:function(e){return"".concat(new Date(e).toLocaleDateString("en-US"))}},{title:"\u0531\u0576\u0578\u0582\u0576 \u0531\u0566\u0563\u0561\u0576\u0578\u0582\u0576",dataIndex:"fullName",key:"3"},{title:"\u0567\u056c-\u0570\u0561\u057d\u0581\u0565",dataIndex:"email",key:"4"},{title:"\u0540\u0565\u057c\u0561\u056d\u0578\u057d",dataIndex:"phone",key:"6"},{title:"\u0532\u0561\u056c %",dataIndex:"bonusPercent",key:"7"},{title:"\u0532\u0561\u056c",dataIndex:"bonus",key:"8"},{title:"\u0533\u0576\u0574\u0561\u0576 \u0569\u056b\u057e",dataIndex:"boughtSum",key:"9"},{title:"History",dataIndex:"history",key:"10",render:function(t,n){return i.a.createElement("span",{onClick:function(){return function(t,n){var a=r.indexOf(n);if(-1===a)u([].concat(Object(d.a)(r),[n])),e({id:t,status:"completed"});else{var c=Object(d.a)(r);c.splice(a,1),u(c)}}(n.id,n.key)}},i.a.createElement("span",{style:{cursor:"pointer",color:"#40a9ff"}},"history"))}}],expanded:r}}var l=n(6),f=n(131),g=[{title:"\u054a\u0580\u0578\u0574\u0578 \u056f\u0578\u0564",dataIndex:"promoCode",render:function(e){return e||"-"},key:"1"},{title:"\u053f\u0578\u0582\u057f\u0561\u056f\u057e\u0561\u056e \u0562\u0561\u056c",dataIndex:"bonus",key:"2"},{title:"\u0531\u057c\u0561\u0584\u0574\u0561\u0576 \u0570\u0561\u057d\u0581\u0565",dataIndex:"deliveryAddress",key:"3"},{title:"\u0561\u0580\u056a\u0565\u0584",dataIndex:"totalWithPromo",key:"4"},{title:"\u053a\u0561\u0574\u0561\u0576\u0561\u056f\u0561\u0570\u0561\u057f\u057e\u0561\u056e",dataIndex:"deliveryTime",key:"5"},{title:"\u054a\u0561\u057f\u057e\u0565\u0580\u056b \u056a\u0561\u0574",dataIndex:"createdAt",render:function(e){return"".concat(new Date(e).toLocaleDateString("en-US"))},key:"6"}],p=n(740),m=n(31),b=n(91);t.default=Object(o.b)((function(e){var t=e.tables,n=t.list,a=t.isFetching,r=t.pages,c=t.page;return{list:n,isFetching:a,ordersLoading:e.users.ordersLoading,pages:r,page:c}}),{getUsersOrdersAction:f.a,getTableDataAction:m.b,getTableDataResetAction:m.d,searchResetAction:b.c})((function(e){var t=e.list,n=e.page,c=e.pages,o=e.isFetching,d=e.getUsersOrdersAction,s=e.ordersLoading,f=e.getTableDataAction,m=e.getTableDataResetAction,b=e.searchResetAction;t.forEach((function(e){e.fullName="".concat(e.firstName," ").concat(e.lastName)}));var y=u(d),k=y.columns,x=y.expanded,h=Object(p.a)(l.c.CUSTOMERS,f,m,b).changePage;return i.a.createElement("div",null,i.a.createElement(r.a,{columns:k,loading:o,dataSource:t,expandedRowKeys:x,pagination:!1,expandIcon:function(){return null},expandedRowRender:function(e){return s[e.id]?"loading":e.userOrders?(e.userOrders.forEach((function(e){e.key="".concat(e.id," order")})),i.a.createElement(r.a,{columns:g,dataSource:e.userOrders,pagination:!1})):"error"}}),i.a.createElement(a.a,{onChange:h,current:n,total:10*c}))}))}}]);
//# sourceMappingURL=16.f985dddc.chunk.js.map