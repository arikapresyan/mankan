(this.webpackJsonpmankan_admin_panel=this.webpackJsonpmankan_admin_panel||[]).push([[15],{740:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0);function i(e,t,a,i){return Object(n.useEffect)((function(){return t({name:e}),function(){a({name:e}),i()}}),[t,e,a,i]),{changePage:Object(n.useCallback)((function(a){t({name:e,page:a})}),[t,e])}}},785:function(e,t,a){"use strict";a.r(t);a(411);var n=a(302),i=a(8),c=a(0),r=a.n(c),o=a(30),d=(a(62),a(20)),l=(a(300),a(12)),u=(a(191),a(120)),s=a(43),b=a(49),m=a(38),f=a(6),g=(a(299),a(111)),h=(a(190),a(148)),p=a(301),O=f.c.BRAND;var E=function(e){var t=e.edit,a=e.setShowModal,n=e.editMode,i=Object(o.c)(),l=Object(c.useMemo)((function(){return n?{brand:t.data.name}:{brand:""}}),[n,t]),u=Object(p.a)({onSubmit:function(e){var c={name:e.brand};if(n){var r=t.data.id;t.editDataAction({name:O,data:c,id:r})}else i(Object(m.a)({name:O,data:c})),a(!1)},initialValues:l,validate:function(e){var t={};return e.brand||(t.brand="Required"),t}}),s=u.values,b=u.handleChange,f=u.errors,E=u.touched,j=u.handleBlur,v=u.handleSubmit,A=u.isSubmitting;return Object(c.useEffect)((function(){n&&!t.loading&&!t.error&&A&&a(!1)}),[t]),r.a.createElement(g.a,{onSubmit:v},r.a.createElement(g.a.Item,{validateStatus:E.brand&&f.brand&&"error",help:E.brand&&f.brand,label:"Brand Name"},r.a.createElement(h.a,{placeholder:"brand",name:"brand",onChange:b,onBlur:j,value:s.brand})),r.a.createElement(g.a.Item,null,r.a.createElement(d.a,{key:"submit",type:"primary",htmlType:"submit"},n?"Save":"Create")))};function j(e){var t=e.dataSource,a=e.loading,n=e.edit,i=Object(c.useState)(!1),g=Object(s.a)(i,2),h=g[0],p=g[1],O=Object(c.useState)(!1),j=Object(s.a)(O,2),v=j[0],A=j[1],C=Object(c.useState)([]),S=Object(s.a)(C,2),y=S[0],D=S[1],k=Object(c.useState)([]),R=Object(s.a)(k,2),F=R[0],N=R[1],B=Object(o.c)(),T=u.a.confirm;Object(c.useEffect)((function(){N([]),D([])}),[t,D,N]);var w=function(e){return T({content:"Are you sure to delete ".concat(1===e.length?"this brand?":"these brands"),okText:"Yes",okType:"primary",cancelText:"No",className:"confirm-mod",onOk:function(){B(Object(m.d)({name:f.c.BRAND,ids:e}))},onCancel:function(){}})},M={onChange:function(e,t){var a=t.map((function(e){return e.id}));N(a),D(e)},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name,name:e.name}},selectedRowKeys:y},x=[{title:"Brand name",dataIndex:"name"},{title:"Edit",render:function(e,t){var a=t.id;return r.a.createElement(l.a,{onClick:function(){n.editFetchingAction({name:f.c.BRAND,id:a}),p(!0)},type:"edit"})}},{title:"Delete",dataIndex:"id",render:function(e){return r.a.createElement(l.a,{onClick:function(){return w([e])},type:"delete"})}}];return Object(c.useEffect)((function(){n.error&&!n.data&&p(!1)}),[n.data,n.error]),r.a.createElement("div",null,r.a.createElement(d.a,{className:"btn",type:"primary",onClick:function(){return A(!0)}},"Create"),r.a.createElement(d.a,{className:"btn",type:"primary",disabled:!F.length,onClick:function(){return w(F)}},"Delete"),r.a.createElement(b.g,{rowSelection:M,columns:x,dataSource:t,pagination:!1,loading:a}),r.a.createElement(u.a,{visible:h,onCancel:function(){return p(!1)},title:"Edit",footer:null,destroyOnClose:!0,afterClose:function(){p(!1),n.editFetchingResetAction()}},n.data?r.a.createElement(E,{edit:n,setShowModal:p,editMode:!0}):"...Loading"),r.a.createElement(u.a,{title:"Create",visible:v,onCancel:function(){return A(!1)},destroyOnClose:!0,footer:null},r.a.createElement(E,{setShowModal:A})))}j.defaultProps={dataSource:[],loading:!1};var v=j,A=a(740),C=a(31),S=a(91);t.default=Object(o.b)((function(e){var t=e.tables;return{list:t.list,isFetching:t.isFetching,pages:t.pages,page:t.page,edit:e.edit}}),{getTableDataAction:C.b,getTableDataResetAction:C.d,editFetchingAction:m.j,editFetchingResetAction:m.l,editDataAction:m.g,searchResetAction:S.c})((function(e){var t=e.list,a=e.page,c=e.pages,o=e.isFetching,d=e.getTableDataAction,l=e.getTableDataResetAction,u=e.edit,s=e.editFetchingAction,b=e.editFetchingResetAction,m=e.editDataAction,g=e.searchResetAction,h=Object(A.a)(f.c.BRAND,d,l,g).changePage;return r.a.createElement("div",null,r.a.createElement(v,{dataSource:t,loading:o,edit:Object(i.a)({},u,{editFetchingAction:s,editFetchingResetAction:b,editDataAction:m})}),r.a.createElement(n.a,{onChange:h,current:a,total:10*c}))}))}}]);
//# sourceMappingURL=15.6e43d09c.chunk.js.map