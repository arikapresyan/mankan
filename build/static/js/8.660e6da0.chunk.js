(this.webpackJsonpmankan_admin_panel=this.webpackJsonpmankan_admin_panel||[]).push([[8],{740:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var n=t(0);function r(e,a,t,r){return Object(n.useEffect)((function(){return a({name:e}),function(){t({name:e}),r()}}),[a,e,t,r]),{changePage:Object(n.useCallback)((function(t){a({name:e,page:t})}),[a,e])}}},755:function(e,a,t){"use strict";t.d(a,"a",(function(){return r})),t.d(a,"b",(function(){return i}));var n=t(192),r=n.e().shape({armName:n.f().required("Armenian is required"),armDesc:n.f().required("Armenian description is required"),imgList:n.a().required("Please upload an image")}),i=n.e().shape({armName:n.f().required("Armenian is required"),armDesc:n.f().required("Armenian description is required"),armShort:n.f().required("Armenian short description is required"),imgList:n.a().required("Please upload an image")})},768:function(e,a,t){},786:function(e,a,t){"use strict";t.r(a);t(411);var n=t(302),r=t(8),i=t(0),c=t.n(i),m=t(30),l=(t(62),t(20)),s=(t(300),t(12)),o=(t(415),t(308)),u=(t(191),t(120)),d=t(43),g=t(49),p=t(38),h=t(6),f=(t(190),t(148)),b=(t(299),t(111)),E=t(71),D=(t(102),t(33)),N=(t(741),t(742)),v=t(301),S=t(755),A=t(307),O=(t(768),N.a.TabPane),j=h.c.USAGE;var y=function(e){var a=e.setShowModal,t=e.edit,n=void 0===t?{}:t,s=e.editMode,o=void 0!==s&&s,u=Object(m.c)(),d=Object(i.useMemo)((function(){if(o){var e=n.data,a=e.image,t=e.langs;return{imgList:[{uid:"-1",name:a,type:"image/jpeg",status:"done",url:"".concat("https://admin.mankan.am","/ProductUsageImages/").concat(a),thumbUrl:"".concat("https://admin.mankan.am","/ProductUsageImages/").concat(a)}],armName:t[0].name,engName:t[1].name,ruName:t[2].name,armDesc:t[0].description,engDesc:t[1].description,ruDesc:t[2].description}}return{imgList:[],armName:"",ruName:"",engName:"",armDesc:"",ruDesc:"",engDesc:""}}),[o]),h=Object(v.a)({initialValues:d,onSubmit:function(e){var t=new FormData;"-1"!==e.imgList[0].uid&&t.append("image",e.imgList[0].originFileObj);var r=[{name:e.armName,lang:"ARM",description:e.armDesc},{name:e.engName,lang:"ENG",description:e.engDesc},{name:e.ruName,lang:"RU",description:e.ruDesc}];if(t.append("names",JSON.stringify(r)),o){var i=n.data.id;u(Object(p.g)({name:j,data:t,id:i}))}else u(Object(p.a)({name:j,data:t}));a(!1)},validationSchema:S.a}),y=h.values,C=h.errors,k=h.touched,I=h.handleBlur,L=h.handleSubmit,F=h.handleChange,q=h.setFieldValue,P=function(e){return function(a,t){var n=t.getData();q(e,n)}};return c.a.createElement(b.a,{onSubmit:L},c.a.createElement(b.a.Item,{validateStatus:C.imgList&&"error",help:C.imgList},c.a.createElement(A.a,{onChange:function(e){"image/jpeg"===e.file.type||"image/png"===e.file.type?q("imgList",Object(E.a)(e.fileList.map((function(e){return Object(r.a)({},e,{status:"done"})})))):D.a.error("You can only upload JPG/PNG file!")},listType:"picture",name:"imgList",fileList:y.imgList})),c.a.createElement(N.a,{defaultActiveKey:"1",className:"modalTab"},c.a.createElement(O,{tab:"Arm /",key:"1"},c.a.createElement("div",null,c.a.createElement(b.a.Item,{validateStatus:k.armName&&C.armName&&"error",help:k.armName&&C.armName},c.a.createElement(f.a,{placeholder:"Name",name:"armName",value:y.armName,onChange:F,onBlur:I})),c.a.createElement("h3",null,"Description"),c.a.createElement(b.a.Item,{validateStatus:k.armDesc&&C.armDesc&&"error",help:k.armDesc&&C.armDesc},c.a.createElement(g.d,{name:"armDesc",onChange:P("armDesc"),data:y.armDesc})))),c.a.createElement(O,{tab:"Ru /",key:"2"},c.a.createElement("div",null,c.a.createElement(b.a.Item,{validateStatus:k.armName&&C.armName&&"error",help:k.armName&&C.armName},c.a.createElement(f.a,{placeholder:"Name",name:"ruName",value:y.ruName,onChange:F})),c.a.createElement("h3",null,"Description"),c.a.createElement(b.a.Item,{validateStatus:k.armDesc&&C.armDesc&&"error",help:k.armDesc&&C.armDesc},c.a.createElement(g.d,{onChange:P("ruDesc"),data:y.ruDesc})))),c.a.createElement(O,{tab:"Eng",key:"3"},c.a.createElement("div",null,c.a.createElement(b.a.Item,{validateStatus:k.armName&&C.armName&&"error",help:k.armName&&C.armName},c.a.createElement(f.a,{placeholder:"Name",name:"engName",value:y.engName,onChange:F})),c.a.createElement("h3",null,"Description"),c.a.createElement(b.a.Item,{validateStatus:k.armDesc&&C.armDesc&&"error",help:k.armDesc&&C.armDesc},c.a.createElement(g.d,{onChange:P("engDesc"),data:y.engDesc}))))),c.a.createElement(b.a.Item,null,c.a.createElement(l.a,{key:"submit",type:"primary",htmlType:"submit"},o?"Save":"Create")))};function C(e){var a=e.dataSource,t=e.loading,n=e.edit,r=Object(i.useState)(!1),f=Object(d.a)(r,2),b=f[0],E=f[1],D=Object(i.useState)(!1),N=Object(d.a)(D,2),v=N[0],S=N[1],A=Object(i.useState)([]),O=Object(d.a)(A,2),j=O[0],C=O[1],k=Object(i.useState)([]),I=Object(d.a)(k,2),L=I[0],F=I[1],q=Object(m.c)(),P=u.a.confirm;Object(i.useEffect)((function(){F([]),C([])}),[a,C,F]);var R=function(e){return P({content:"Are you sure to delete ".concat(1===e.length?"this product usage?":"these product usages"),okText:"Yes",okType:"primary",cancelText:"No",className:"confirm-mod",onOk:function(){q(Object(p.d)({name:h.c.USAGE,ids:e}))},onCancel:function(){}})},T={onChange:function(e,a){var t=a.map((function(e){return e.id}));F(t),C(e)},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name,name:e.name}},selectedRowKeys:j},U=[{title:"Img",dataIndex:"image",render:function(e){return e&&c.a.createElement(o.a,{size:60,src:"".concat("https://admin.mankan.am","/ProductUsageImages/").concat(e)})}},{title:"Name",dataIndex:"name",render:function(e,a){return a.langs&&a.langs.length&&a.langs[0].name}},{title:"Description",dataIndex:"description",render:function(e,a){return a.langs&&a.langs.length&&c.a.createElement("p",{dangerouslySetInnerHTML:{__html:a.langs[0].description}})}},{title:"Edit",dataIndex:"edit",render:function(e,a){var t=a.id;return c.a.createElement(s.a,{onClick:function(){n.editFetchingAction({name:h.c.USAGE,id:t}),E(!0)},type:"edit"})}},{title:"Delete",dataIndex:"id",render:function(e){return c.a.createElement(s.a,{onClick:function(){return R([e])},type:"delete"})}}];return c.a.createElement("div",null,c.a.createElement(l.a,{className:"btn",type:"primary",onClick:function(){return S(!0)}},"Create"),c.a.createElement(l.a,{className:"btn",type:"primary",disabled:!L.length,onClick:function(){return R(L)}},"Delete"),c.a.createElement(g.g,{rowSelection:T,columns:U,loading:t,dataSource:a,pagination:!1}),c.a.createElement(u.a,{title:"Edit",visible:b,onCancel:function(){return E(!1)},afterClose:n.editFetchingResetAction,destroyOnClose:!0,footer:null},n.data?c.a.createElement(y,{edit:n,setShowModal:E,editMode:!0}):"...Loading"),c.a.createElement(u.a,{title:"Create",visible:v,onCancel:function(){return S(!1)},destroyOnClose:!0,footer:null},c.a.createElement(y,{setShowModal:S})))}C.defaultProps={dataSource:[],loading:!1};var k=C,I=t(740),L=t(31),F=t(91);a.default=Object(m.b)((function(e){var a=e.tables;return{list:a.list,isFetching:a.isFetching,pages:a.pages,page:a.page,edit:e.edit}}),{getTableDataAction:L.b,getTableDataResetAction:L.d,editFetchingAction:p.j,editFetchingResetAction:p.l,editDataAction:p.g,searchResetAction:F.c})((function(e){var a=e.list,t=e.page,i=e.pages,m=e.isFetching,l=e.getTableDataAction,s=e.getTableDataResetAction,o=e.edit,u=e.editFetchingAction,d=e.editFetchingResetAction,g=e.editDataAction,p=e.searchResetAction,f=Object(I.a)(h.c.USAGE,l,s,p).changePage;return c.a.createElement("div",null,c.a.createElement(k,{dataSource:a,loading:m,edit:Object(r.a)({},o,{editFetchingAction:u,editFetchingResetAction:d,editDataAction:g})}),c.a.createElement(n.a,{onChange:f,current:t,total:10*i}))}))}}]);
//# sourceMappingURL=8.660e6da0.chunk.js.map