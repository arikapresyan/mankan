(this.webpackJsonpmankan_admin_panel=this.webpackJsonpmankan_admin_panel||[]).push([[7],{740:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var n=t(0);function r(e,a,t,r){return Object(n.useEffect)((function(){return a({name:e}),function(){t({name:e}),r()}}),[a,e,t,r]),{changePage:Object(n.useCallback)((function(t){a({name:e,page:t})}),[a,e])}}},755:function(e,a,t){"use strict";t.d(a,"a",(function(){return r})),t.d(a,"b",(function(){return i}));var n=t(192),r=n.e().shape({armName:n.f().required("Armenian is required"),armDesc:n.f().required("Armenian description is required"),imgList:n.a().required("Please upload an image")}),i=n.e().shape({armName:n.f().required("Armenian is required"),armDesc:n.f().required("Armenian description is required"),armShort:n.f().required("Armenian short description is required"),imgList:n.a().required("Please upload an image")})},776:function(e,a,t){},788:function(e,a,t){"use strict";t.r(a);t(411);var n=t(302),r=t(8),i=t(0),c=t.n(i),l=t(30),m=(t(62),t(20)),o=(t(300),t(12)),s=(t(191),t(120)),u=t(43),d=(t(776),t(49)),h=t(38),g=t(6),p=(t(190),t(148)),f=(t(299),t(111)),S=t(71),D=(t(102),t(33)),b=(t(741),t(742)),E=t(301),v=t(755),N=b.a.TabPane,O=g.c.JOB;var C=function(e){var a=e.setShowModal,t=e.edit,n=void 0===t?{}:t,r=e.editMode,o=void 0!==r&&r,s=Object(l.c)(),u=Object(i.useMemo)((function(){if(o){var e=n.data,a=e.image,t=e.langs;return{imgList:[{uid:"-1",name:a,type:"image/jpeg",status:"done",url:"".concat("https://admin.mankan.am","/vocationImages/").concat(a),thumbUrl:"".concat("https://admin.mankan.am","/vocationImages/").concat(a)}],armName:t[0].title,engName:t[1].title,ruName:t[2].title,armDesc:t[0].description,engDesc:t[1].description,ruDesc:t[2].description,armShort:t[0].shortDesc||"",engShort:t[1].shortDesc||"",ruShort:t[2].shortDesc||""}}return{imgList:[],armName:"",ruName:"",engName:"",armDesc:"",ruDesc:"",engDesc:"",armShort:"",engShort:"",ruShort:""}}),[o,n.data]),g=Object(E.a)({initialValues:u,onSubmit:function(e){var t=new FormData;"-1"!==e.imgList[0].uid&&t.append("image",e.imgList[0].originFileObj);var r=[{title:e.armName,lang:"ARM",description:e.armDesc,shortDesc:e.armShort},{title:e.engName,lang:"ENG",description:e.engDesc,shortDesc:e.engShort},{title:e.ruName,lang:"RU",description:e.ruDesc,shortDesc:e.ruShort}];if(t.append("names",JSON.stringify(r)),o){var i=n.data.id;s(Object(h.g)({name:O,data:t,id:i}))}else s(Object(h.a)({name:O,data:t}));a(!1)},validationSchema:v.b}),C=g.values,y=g.errors,j=g.touched,A=g.handleBlur,k=g.handleSubmit,I=g.handleChange,L=g.setFieldValue,F=function(e){return function(a,t){var n=t.getData();L(e,n)}};return c.a.createElement(f.a,{onSubmit:k},c.a.createElement(f.a.Item,{validateStatus:y.imgList&&"error",help:y.imgList},c.a.createElement(d.e,{onChange:function(e){"image/jpeg"===e.file.type||"image/png"===e.file.type?L("imgList",Object(S.a)(e.fileList)):D.a.error("You can only upload JPG/PNG file!"),"done"===e.file.status?D.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&(D.a.error("".concat(e.file.name," file upload failed.")),L("imgList",[]))},listType:"picture",name:"imgList",fileList:C.imgList})),c.a.createElement(b.a,{defaultActiveKey:"1",className:"modalTab"},c.a.createElement(N,{tab:"Arm /",key:"1"},c.a.createElement("div",null,c.a.createElement(f.a.Item,{validateStatus:j.armName&&y.armName&&"error",help:j.armName&&y.armName},c.a.createElement(p.a,{placeholder:"title",name:"armName",value:C.armName,onChange:I,onBlur:A})),c.a.createElement(f.a.Item,{validateStatus:j.armShort&&y.armShort&&"error",help:j.armShort&&y.armShort},c.a.createElement(p.a,{placeholder:"Short Description",name:"armShort",value:C.armShort,onChange:I,onBlur:A})),c.a.createElement("h3",null,"Description"),c.a.createElement(f.a.Item,{validateStatus:j.armDesc&&y.armDesc&&"error",help:j.armDesc&&y.armDesc},c.a.createElement(d.d,{name:"armDesc",onChange:F("armDesc"),data:C.armDesc})))),c.a.createElement(N,{tab:"Ru /",key:"2"},c.a.createElement("div",null,c.a.createElement(f.a.Item,{validateStatus:j.armName&&y.armName&&"error",help:j.armName&&y.armName},c.a.createElement(p.a,{placeholder:"title",name:"ruName",value:C.ruName,onChange:I})),c.a.createElement(f.a.Item,{validateStatus:j.armShort&&y.armShort&&"error",help:j.armShort&&y.armShort},c.a.createElement(p.a,{placeholder:"Short Description",name:"ruShort",value:C.ruShort,onChange:I})),c.a.createElement("h3",null,"Description"),c.a.createElement(f.a.Item,{validateStatus:j.armDesc&&y.armDesc&&"error",help:j.armDesc&&y.armDesc},c.a.createElement(d.d,{onChange:F("ruDesc"),data:C.ruDesc})))),c.a.createElement(N,{tab:"Eng",key:"3"},c.a.createElement("div",null,c.a.createElement(f.a.Item,{validateStatus:j.armName&&y.armName&&"error",help:j.armName&&y.armName},c.a.createElement(p.a,{placeholder:"title",name:"engName",value:C.engName,onChange:I})),c.a.createElement(f.a.Item,{validateStatus:j.armShort&&y.armShort&&"error",help:j.armShort&&y.armShort},c.a.createElement(p.a,{placeholder:"Short Description",name:"engShort",value:C.engShort,onChange:I})),c.a.createElement("h3",null,"Description"),c.a.createElement(f.a.Item,{validateStatus:j.armDesc&&y.armDesc&&"error",help:j.armDesc&&y.armDesc},c.a.createElement(d.d,{onChange:F("engDesc"),data:C.engDesc}))))),c.a.createElement(f.a.Item,null,c.a.createElement(m.a,{className:"jobCreate",key:"submit",type:"primary",htmlType:"submit"},o?"Save":"Create")))};function y(e){var a=e.dataSource,t=e.loading,n=e.edit,r=Object(i.useState)(!1),p=Object(u.a)(r,2),f=p[0],S=p[1],D=Object(i.useState)(!1),b=Object(u.a)(D,2),E=b[0],v=b[1],N=Object(i.useState)([]),O=Object(u.a)(N,2),y=O[0],j=O[1],A=Object(i.useState)([]),k=Object(u.a)(A,2),I=k[0],L=k[1],F=Object(l.c)(),q=s.a.confirm;Object(i.useEffect)((function(){L([]),j([])}),[a,j,L]);var R=function(e){return q({content:"Are you sure to delete ".concat(1===e.length?"this vacancy?":"these vacancies"),okText:"Yes",okType:"primary",cancelText:"No",className:"confirm-mod",onOk:function(){F(Object(h.d)({name:g.c.JOB,ids:e}))},onCancel:function(){}})},T={onChange:function(e,a){var t=a.map((function(e){return e.id}));L(t),j(e)},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name,name:e.name}},selectedRowKeys:y},w=[{title:"Title",dataIndex:"title",render:function(e,a){return a.langs&&a.langs.length&&a.langs[0].title}},{title:"Short Description",dataIndex:"shortDesc",render:function(e,a){return a.langs&&a.langs.length&&a.langs[0].shortDesc}},{title:"Edit",dataIndex:"edit",render:function(e,a){var t=a.id;return c.a.createElement(o.a,{onClick:function(){n.editFetchingAction({name:g.c.JOB,id:t}),S(!0)},type:"edit"})}},{title:"Delete",dataIndex:"id",render:function(e){return c.a.createElement(o.a,{onClick:function(){return R([e])},type:"delete"})}}];return c.a.createElement("div",null,c.a.createElement(m.a,{className:"btn",type:"primary",onClick:function(){return v(!0)}},"Create"),c.a.createElement(m.a,{className:"btn",type:"primary",disabled:!I.length,onClick:function(){return R(I)}},"Delete"),c.a.createElement(d.g,{rowSelection:T,columns:w,dataSource:a,pagination:!1,loading:t}),c.a.createElement(s.a,{title:"Edit",visible:f,onCancel:function(){return S(!1)},afterClose:n.editFetchingResetAction,destroyOnClose:!0,footer:null},n.data?c.a.createElement(C,{edit:n,setShowModal:S,editMode:!0}):"...Loading"),c.a.createElement(s.a,{title:"Create",visible:E,onCancel:function(){return v(!1)},destroyOnClose:!0,footer:null},c.a.createElement(C,{setShowModal:v})))}var j=t(31),A=t(740),k=t(91);a.default=Object(l.b)((function(e){var a=e.tables;return{list:a.list,isFetching:a.isFetching,pages:a.pages,page:a.page,edit:e.edit}}),{getTableDataAction:j.b,getTableDataResetAction:j.d,editFetchingAction:h.j,editFetchingResetAction:h.l,editDataAction:h.g,searchResetAction:k.c})((function(e){var a=e.list,t=e.page,i=e.pages,l=e.isFetching,m=e.getTableDataAction,o=e.getTableDataResetAction,s=e.edit,u=e.editFetchingAction,d=e.editFetchingResetAction,h=e.editDataAction,p=e.searchResetAction,f=Object(A.a)(g.c.JOB,m,o,p).changePage;return c.a.createElement("div",null,c.a.createElement(y,{dataSource:a,loading:l,edit:Object(r.a)({},s,{editFetchingAction:u,editFetchingResetAction:d,editDataAction:h})}),c.a.createElement(n.a,{onChange:f,current:t,total:10*i}))}))}}]);
//# sourceMappingURL=7.6bb5f1c1.chunk.js.map