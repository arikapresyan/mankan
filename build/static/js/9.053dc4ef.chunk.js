(this.webpackJsonpmankan_admin_panel=this.webpackJsonpmankan_admin_panel||[]).push([[9],{740:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0);function r(e,t,a,r){return Object(n.useEffect)((function(){return t({name:e}),function(){a({name:e}),r()}}),[t,e,a,r]),{changePage:Object(n.useCallback)((function(a){t({name:e,page:a})}),[t,e])}}},766:function(e,t,a){},779:function(e,t,a){"use strict";a.r(t);a(411);var n=a(302),r=(a(62),a(20)),l=(a(300),a(12)),c=a(43),i=(a(191),a(120)),o=a(0),d=a.n(o),s=(a(306),a(766),a(30)),u=a(49),m=(a(299),a(111)),g=(a(414),a(181)),h=a(71),p=(a(304),a(94)),f=(a(249),a(39));var b=function(e){var t=e.id,a=e.count,n=e.price;return d.a.createElement("div",{id:"title"},d.a.createElement(p.a,null,d.a.createElement(f.a,{span:6},d.a.createElement("h3",null,"Id\u0589",d.a.createElement("span",null," ".concat(t)))),d.a.createElement(f.a,{span:10},d.a.createElement("h3",null,"\u0531\u057c\u056f\u0561 \u0584\u0561\u0576\u0561\u056f\u0589",d.a.createElement("span",null," ".concat(a," "),"\u0570\u0561\u057f"))),d.a.createElement(f.a,{span:7},d.a.createElement("h3",null,"\u0533\u056b\u0576\u0589",d.a.createElement("span",null,n,"\u0564")))))},v=(a(741),a(742)),E=function(e,t){return Object(o.useMemo)((function(){var a=e.langs.find((function(e){return"RU"===e.lang})),n=e.langs.find((function(e){return"ENG"===e.lang})),r=e.langs.find((function(e){return"ARM"===e.lang})),l=(a||{})[t];return{am:(r||{})[t],ru:l,eng:(n||{})[t]}}),[e,t])},O=v.a.TabPane;var x=function(e){var t=e.handleChange,a=e.values,n=e.header,r=e.dataKey,l=E(a,r);return d.a.createElement(v.a,{defaultActiveKey:"1",className:"modalTab",style:{marginTop:"15px"}},d.a.createElement(O,{tab:"Arm /",key:"1"},d.a.createElement(u.b,{defaultValues:l.am,placeholder:n,onChange:t("ARM",r)})),d.a.createElement(O,{tab:"Ru /",key:"2"},d.a.createElement(u.b,{defaultValues:l.ru,placeholder:n,onChange:t("RU",r)})),d.a.createElement(O,{tab:"Eng",key:"3"},d.a.createElement(u.b,{defaultValues:l.eng,placeholder:n,onChange:t("ENG",r)})))},y=v.a.TabPane;var S=function(e){var t=e.handleChange,a=e.values,n=e.dataKey,r=e.header,l=E(a,n);return d.a.createElement(d.a.Fragment,null,d.a.createElement("h3",null,r),d.a.createElement(v.a,{defaultActiveKey:"1",className:"modalTab"},d.a.createElement(y,{tab:"Arm /",key:"".concat(n,"1")},d.a.createElement(u.d,{data:l.am,onBlur:t("ARM",n)})),d.a.createElement(y,{tab:"Ru /",key:"".concat(n,"2")},d.a.createElement(u.d,{data:l.ru,onBlur:t("RU",n)})),d.a.createElement(y,{tab:"Eng",key:"".concat(n,"3")},d.a.createElement(u.d,{data:l.eng,onBlur:t("ENG",n)}))))},j=(a(303),a(36));var C=function(e){var t=e.handleCheck,a=e.handleChange,n=e.addBoxSize,r=e.size,l=e.boxSize;return d.a.createElement(d.a.Fragment,null,d.a.createElement(p.a,null,d.a.createElement(f.a,{span:12},d.a.createElement("h3",null,"\u0549\u0561\u0583\u057d\u0565\u0580"),d.a.createElement(p.a,null,d.a.createElement(f.a,{span:8},d.a.createElement(u.b,{defaultValues:r.height,placeholder:"\u0532\u0561\u0580\u0571\u0580",onChange:a("size","height")})),d.a.createElement(f.a,{span:8},d.a.createElement(u.b,{defaultValues:r.length,placeholder:"\u0535\u0580\u056f\u0561\u0580",onChange:a("size","length")})),d.a.createElement(f.a,{span:8},d.a.createElement(u.b,{defaultValues:r.width,placeholder:"\u053c\u0561\u0575\u0576",onChange:a("size","width")})))),d.a.createElement(f.a,{span:12},d.a.createElement("h3",null,"\u054f\u0578\u0582\u0583\u056b \u0579\u0561\u0583\u057d\u0565\u0580"),n&&d.a.createElement(p.a,{className:"checkShow"},d.a.createElement(f.a,{span:8},d.a.createElement(u.b,{defaultValues:l.height,placeholder:"\u0532\u0561\u0580\u0571\u0580",onChange:a("boxSize","height")})),d.a.createElement(f.a,{span:8},d.a.createElement(u.b,{defaultValues:l.length,placeholder:"\u0535\u0580\u056f\u0561\u0580",onChange:a("boxSize","length")})),d.a.createElement(f.a,{span:8},d.a.createElement(u.b,{defaultValues:l.width,placeholder:"\u053c\u0561\u0575\u0576",onChange:a("boxSize","width")}))),d.a.createElement(j.a,{style:{marginTop:"5px"},onChange:t,checked:n}))))},A=(a(310),a(219)),k=(a(412),a(305)),I=a(792),P=a(793);function w(e){var t=e.handleChange,a=e.handleDrop,n=e.deleteImage,l=e.draggable,i=e.imageData,o=e.notSaved,s=e.index,m=e.load,g=e.url,h=Object(I.a)({item:{type:"CARD",index:s},collect:function(e){return{isDragging:e.isDragging()}}}),p=Object(c.a)(h,2)[1],f=Object(P.a)({accept:"CARD",drop:function(e){e.index!==s&&a(e.index,s)},collect:function(e){return{isOverParent:e.isOver()}}}),b=Object(c.a)(f,2)[1];return d.a.createElement("div",{style:{width:"200px",marginTop:"15px",marginLeft:"5px",background:o},ref:b},d.a.createElement("div",Object.assign({ref:p},l?{}:{onDrag:function(e){e.stopPropagation()},onDragStart:function(e){e.stopPropagation()},draggable:!1}),m?d.a.createElement(k.a,null):d.a.createElement(d.a.Fragment,null,d.a.createElement("img",{style:{width:"100%",marginTop:"15px",marginBottom:"15px"},src:g,alt:"null"}),d.a.createElement(u.b,{style:{marginBottom:"15px"},name:"title",placeholder:"title",disabled:!l,defaultValues:i.title,onChange:t}),d.a.createElement(u.b,{name:"alt",placeholder:"alt",defaultValues:i.alt,disabled:!l,onChange:t}),d.a.createElement(r.a,{style:{marginTop:"15px"},type:"button",onClick:n},"delete"))))}w.defaultProps={url:null};var F=w,z=a(767),V=a(375),N=function(e){var t=e.photosOrder,a=e.images,n=e.setFieldValue,r=e.saveProductImagesAction,l=e.showMessageAction,i=e.productId,d=Object(o.useState)(a),u=Object(c.a)(d,2),m=u[0],g=u[1],p=Object(o.useState)([]),f=Object(c.a)(p,2),b=f[0],v=f[1],E=Object(o.useState)([]),O=Object(c.a)(E,2),x=O[0],y=O[1],S=Object(s.d)(V.b),j=Object(s.d)(V.c);Object(o.useEffect)((function(){g(a),v([]),y([])}),[a.length]),Object(o.useEffect)((function(){!S&&j&&(g(a),y([]),v([]))}),[S,j,y,v,g]),Object(o.useEffect)((function(){x.length>0||b.length>0?n("changedImages",!1):n("changedImages",!0)}),[x.length,b.length]);return{handlePreview:function(e){if("uploading"===e.file.status){if(e.file.id)return;return e.file.id=Object(z.uniqueId)(),void g([].concat(Object(h.a)(m),[{uId:e.file.id,load:!0}]))}if("done"===e.file.status){var t=[].concat(Object(h.a)(b),[e.file]);(a=e.file.originFileObj,n=e.file.id,new Promise((function(e,t){var r=new FileReader;r.readAsDataURL(a),r.onload=function(){e({imageUrl:r.result,id:n})},r.onerror=function(e){t(e)},r.reject=alert}))).then((function(e){var t=e.imageUrl,a=e.id,n=Object(h.a)(m),r=n.find((function(e){return e.uId===a}));r.load=!1,r.url=t,g(Object(h.a)(n))})),v(t)}var a,n},handleDrop:function(e,a){var r=Object(h.a)(m),l=r.splice(e,1);r.splice(a,0,l[0]),g(r);var c=Object(h.a)(t);r.forEach((function(e,t){var a=e.id;c.find((function(e){return e.id===a})).order=t+1})),n("photosOrder",c)},deleteImage:function(e){var t,a=e.id,n=e.uId;if(n){t=m.findIndex((function(e){return e.uId===n}));var r=b.findIndex((function(e){return e.id===n})),l=Object(h.a)(b);l.splice(r,1),v(l)}else a&&(t=m.findIndex((function(e){return e.id===a})),y([].concat(Object(h.a)(x),[a])));var c=Object(h.a)(m);c.splice(t,1),g(c)},noUploadedDeleted:Object(o.useMemo)((function(){return 0===b.length&&0===x.length}),[x.length,b.length]),handleSaveImage:Object(o.useCallback)((function(){m.length>9?l({text:"Images max count is 9",status:"error",key:"maxImagesCount",timer:3.5}):r({files:b,id:i,deletedImages:x})}),[b,i,x]),changeInputValueAddId:function(e){var a=e.id;return function(e){var r=e.target,l=r.value,c=r.name,i=Object(h.a)(t),o=i.findIndex((function(e){var t=e.id;return a===t}));i[o][c]=l,n("photosOrder",i)}},imagesListState:m,filesList:b,deletedImages:x}};function D(e){var t=e.uploadProps,a=e.images,n=e.saveProductImagesAction,c=e.setFieldValue,i=e.productId,o=e.photosOrder,s=e.actionStatus,u=e.showMessageAction,m=N({photosOrder:o,images:a,setFieldValue:c,saveProductImagesAction:n,showMessageAction:u,productId:i}),g=m.handlePreview,h=m.handleDrop,p=m.deleteImage,f=m.noUploadedDeleted,b=m.handleSaveImage,v=m.changeInputValueAddId,E=m.imagesListState,O=m.filesList;return d.a.createElement(d.a.Fragment,null,d.a.createElement(A.a,Object.assign({},t,{multiple:!0,onChange:g,showUploadList:!1}),d.a.createElement(r.a,{disabled:E.length>9,style:{marginTop:"20px",marginBottom:"20px"}},d.a.createElement(l.a,{type:"upload"}),"Add Photo")),!f&&d.a.createElement(r.a,{style:{display:"block"},type:"button",disabled:s.loading,onClick:b},"Save images"),d.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},E.map((function(e,t){var a=e.load,n=e.uId,r=e.url,l=e.id,c=e.productId,i=r;return l&&(i="".concat("https://admin.mankan.am","/products/").concat(c,"/").concat(i)),d.a.createElement(F,{draggable:f,key:n?":uId".concat(n):"".concat(l,":id"),notSaved:!!O.find((function(e){return e.id===n})),url:i,load:!!a,deleteImage:function(){return p({id:l,uId:n})},index:t,handleDrop:h,handleChange:v({id:l}),imageData:o.find((function(e){return e.id===l}))||{}})}))))}D.defaultProps={images:[]};var M=D;var B=function(e){var t=e.handleChange,a=e.ages;return d.a.createElement(p.a,null,d.a.createElement(f.a,{span:12},d.a.createElement("h3",null,"\u0546\u057e\u0561\u0566\u0561\u0563\u0578\u0582\u0575\u0576 \u057f\u0561\u0580\u056b\u0584"),d.a.createElement(u.c,{onChange:t,defaultValues:a[0],name:"minAge",min:0,max:8})),d.a.createElement(f.a,{span:12},d.a.createElement("h3",null,"\u0531\u057c\u0561\u057e\u0565\u056c\u0561\u0563\u0578\u0582\u0575\u0576 \u057f\u0561\u0580\u056b\u0584"),d.a.createElement(u.c,{onChange:t,defaultValues:a[1],min:0,max:9,name:"maxAge"})))};function R(e){var t=e.handleChange,a=e.sex;return d.a.createElement(d.a.Fragment,null,d.a.createElement("h3",null,"\u054d\u0565\u057c"),d.a.createElement(j.a,{onChange:t,name:"BOY",checked:"BOY"===a},"\u054f\u0572\u0561"),d.a.createElement(j.a,{onChange:t,name:"GIRL",checked:"GIRL"===a},"\u0531\u0572\u057b\u056b\u056f"),d.a.createElement(j.a,{onChange:t,name:"ALL",checked:"ALL"===a},"\u0535\u0580\u056f\u0578\u0582\u057d\u0576\u0565\u056c"))}R.defaultProps={sex:""};var T=R;function L(e){var t=e.handleChange,a=e.checked;return d.a.createElement(d.a.Fragment,null,d.a.createElement("h3",null,"\u053c\u0561\u057e\u0561\u0563\u0578\u0582\u0575\u0576 \u054e\u0561\u0573\u0561\u057c\u0584"),d.a.createElement(j.a,{onChange:t,checked:a}))}L.defaultProps={checked:!1};var U=L,G=a(143),K=function(e){return Array.isArray(e)?e.map((function(e){var t=e.langs,a=Object(G.a)(e,["langs"]);return a.key?a:{label:(t&&t[0]||a).name,key:a.id}})):e.name},q=g.a.Option;function _(e){var t=e.title,a=e.mode,n=e.placeholder,r=e.handleSearch,l=e.handleSelect,i=e.loading,s=e.list,u=e.values,m=e.name,h=s.map((function(e){return e.name||e.langs[0]&&e.langs[0].name||e.xmlName?d.a.createElement(q,{key:e.id,value:e.id,id:e.id},e.name||e.langs[0]&&e.langs[0].name||e.xmlName):null})),p=Object(o.useState)(null),f=Object(c.a)(p,2),b=f[0],v=f[1],E=Object(o.useMemo)((function(){return K(u)}),[]);return Object(o.useEffect)((function(){r({value:"",name:m})}),[]),d.a.createElement(d.a.Fragment,null,d.a.createElement("h3",null,t),d.a.createElement(g.a,Object.assign({allowClear:!0,labelInValue:!0},e,{mode:a,placeholder:n||"Search(Id)",style:{width:"100%"},onSearch:function(e){clearTimeout(b),v(setTimeout(r,300,{value:e,name:m}))},value:K(u),defaultValue:E,notFoundContent:i?d.a.createElement(k.a,{size:"small"}):null,filterOption:!1,onChange:l,loading:i,getPopupContainer:function(e){return e.parentNode}}),h))}_.defaultProps={list:[],values:[],loading:!1,mode:"multiple"};var J=_,Y=a(8),W=a(301),H=a(192),Q=H.e().shape({langs:H.a(H.e().shape({name:H.f().trim()})),images:H.a(H.e().shape({title:H.f(),description:H.f(),id:H.d().required(),turn:H.d().required()})),boxSize:H.e().when("addBoxSize",{is:!0,then:H.e({width:H.f().trim().required(),height:H.f().trim().required(),length:H.f().trim().required()}).required()}),changedImages:H.b().oneOf([!0],"All images changes should be saved"),photosOrder:H.a(H.e().shape({title:H.f(),alt:H.f()}))}),X=function(e){var t=e.key;return e.id||t},Z=function(e,t){return function(a){var n=Object(Y.a)({},a);n.types=n.types.map(X),n.usages=n.usages.map(X),n.extraFilterIds=n.extraFilter.map(X);var r=n.brand;Array.isArray(r)?n.brandId=r[0]&&r[0].id:n.brandId=r&&r.id,n.langs=Object(h.a)(function(e,t){for(var a=Object(h.a)(e),n=0;n<3;n++)a[n]=a[n]||{};return a.forEach((function(e){if(!e[t]||!e[t].trim()){var n=a.find((function(e){return!(!e[t]||!e[t].trim())}));e[t]=n&&n[t]}e[t]=e[t]||""})),a}(n.langs,"name")),n.productType=n.types,n.boxSize=n.addBoxSize?n.boxSize:{},n.percent=n.percent?+n.percent:0,n.accessoryIds=[].concat(Object(h.a)(n.batteries.map((function(e){return{id:e.key||e.id,type:"battery",count:n.batteriesCount}}))),Object(h.a)(n.paperBags.map((function(e){return{id:e.key||e.id,type:"bug",count:1}})))),e({values:n,id:t})}},$=function(e,t){return e.order>t.order?1:e.order<t.order?-1:0};function ee(e,t,a,n){var r=Object(o.useMemo)((function(){return function(e){var t,a,n=(null===e||void 0===e?void 0:e.accessories.filter((function(e){return"battery"===e.ProductAccessoriesMap.type})))||[],r=(null===e||void 0===e?void 0:e.accessories.filter((function(e){return"bug"===e.ProductAccessoriesMap.type})))||[],l=(null===(t=n[0])||void 0===t||null===(a=t.ProductAccessoriesMap)||void 0===a?void 0:a.count)||0;return{percent:e.percent||0,types:e.productType||[],type:e.type||"product",size:e.size instanceof Object?e.size:{},boxSize:e.boxSize instanceof Object?e.boxSize:{},brand:e.brand||"",addBoxSize:!!Object.keys(e.boxSize instanceof Object?e.boxSize:{}).length,discount:0,photos:e.photos||[],changedImages:!0,usages:e.productUsage||[],bestSeller:e.bestSeller,isNew:e.isNew,minAge:e.minAge,maxAge:e.maxAge,sex:e.productSex.length&&e.productSex[0].sex||"",batteries:n,batteriesCount:l,paperBags:r,extraFilter:e.extraFilter||[],langs:e.langs&&e.langs.length?e.langs:[{lang:"ARM"},{lang:"ENG"},{lang:"RU"}],photosOrder:[]}}(e)}),[e]),l=Object(W.a)({initialValues:r,validationSchema:Q,onSubmit:Z(t,a)}),c=l.values,i=l.setFieldValue,d=l.setValues,s=l.isValid,u=l.submitCount;Object(o.useEffect)((function(){if(e&&e.photos){var t=Object(h.a)(l.values.photosOrder);e.photos.forEach((function(e){-1===t.findIndex((function(t){return t.id===e.id}))&&t.push({id:e.id,productId:e.productId,url:e.url,title:e.title||"",alt:e.alt||"",order:e.order})})),t=t.filter((function(t){return-1!==e.photos.findIndex((function(e){var a=e.id;return t.id===a}))})),e.photos.every((function(e){return!!e.order}))?t=t.sort($):e.photos.forEach((function(e,a){var n=e.id;t.find((function(e){var t=e.id;return n===t})).order=a+1})),l.setValues(Object(Y.a)({},l.values,{photos:e.photos,photosOrder:t}))}}),[e]),Object(o.useEffect)((function(){u>=1&&!s&&n({text:"Some fields of form are invalid please checked the form",status:"error",timer:3.5})}),[u]);var m=Object(o.useMemo)((function(){return u>=1}),[u>=1]),g=Object(o.useCallback)((function(e){var t=e.target,a=t.name,n="";t.checked&&(n=a),i("sex",n)}),[i]),p=Object(o.useMemo)((function(){return[c.minAge,c.maxAge]}),[c.minAge,c.maxAge]),f=Object(o.useCallback)((function(e){var t=e.target,a=t.value,n=t.name,r=Object(Y.a)({},c);r[n]=+a;var l=r.minAge,i=r.maxAge;(i<1||Number.isNaN(i))&&(r.maxAge=1),(l<=0||Number.isNaN(l))&&(r.minAge=0),l>i&&(r.minAge=i-1),d(r)}),[c,d]),b=Object(o.useCallback)((function(e){var t=e.target.checked;i("bestSeller",t)}),[i]),v=Object(o.useCallback)((function(e){var t=e.target.checked;i("isNew",t)}),[i]),E=Object(o.useCallback)((function(e){return function(t){var a=t.target.value;i(e,a)}}),[i]),O=Object(o.useCallback)((function(e,t){return function(a,n){var r;r=n&&n.getData?n.getData():a.target.value;var l=Object(h.a)(c.langs),o=l.find((function(t){return t.lang===e}));o||(o={lang:e},l.push(o)),o[t]=r,i("langs",l)}}),[c,c.langs,i]),x=Object(o.useCallback)((function(e,t){return function(a){var n=a.target.value;n.trim()||(n="");var r=Object(Y.a)({},c),l=c[e]||{};r[e]=l,r[e][t]=n,d(Object(Y.a)({},r))}}),[c,c.langs,d]),y=Object(o.useCallback)((function(e){var t=e.target.checked,a=Object(Y.a)({},c);a.addBoxSize=t,d(Object(Y.a)({},a))}),[c,c.langs,d]);return{formik:l,showError:m,setGender:g,ages:p,setAges:f,setBestSeller:b,setIsNew:v,setSingleField:E,setLang:O,setSizes:x,setCheckBoxSizes:y,setSelectValue:function(e){return function(t,a){var n=t;if(a instanceof Array){if("usages"===e&&a.length>3)return}else n=a&&a.props?[{name:a.props.children,id:a.props.id}]:{};i(e,n)}}}}function te(e){var t=e.handleChange,a=e.label,n=Object(G.a)(e,["handleChange","label"]),r=n.type,l=Object(o.useMemo)((function(){return"number"===r?u.c:u.b}),[r]);return d.a.createElement(d.a.Fragment,null,a&&d.a.createElement("h3",null,a),d.a.createElement(l,Object.assign({},n,{onChange:t})))}te.defaultProps={label:"",type:"string"};var ae=te;function ne(e){var t=e.handleChange,a=e.checked;return d.a.createElement(d.a.Fragment,null,d.a.createElement("h3",null,"\u0546\u0578\u0580\u0578\u0582\u0575\u0569"),d.a.createElement(j.a,{onChange:t,checked:a}))}ne.defaultProps={checked:!1};var re=ne;function le(e){var t=e.fileList,a=e.product,n=e.saveProductImagesAction,l=e.saveProductEditAction,c=e.searchSelectAction,i=e.searchSelect,s=e.editProduct,u=e.showMessageAction,p=e.id,f=Object(o.useMemo)((function(){return{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",method:"get",listType:"picture",defaultFileList:Object(h.a)(t||[]),className:"upload-list-inline"}}),[t]),v=ee(a.data,l,p,u),E=v.formik,O=v.showError,y=v.setGender,j=v.ages,A=v.setAges,k=v.setBestSeller,I=v.setIsNew,P=v.setSingleField,w=v.setLang,F=v.setSizes,z=v.setCheckBoxSizes,V=v.setSelectValue,N=E.values,D=E.setFieldValue,R=E.errors,L=E.handleSubmit;return d.a.createElement(m.a,{className:"editProduct"},d.a.createElement(b,{price:a.data.xmlPrice,count:a.data.xmlCount,id:a.data.xmlId}),d.a.createElement("div",{style:{color:"red"}},O&&R.langs&&(R.langs instanceof Array?R.langs[0]:R.langs)),d.a.createElement(x,{handleChange:w,values:N,header:"vernagir",dataKey:"name"}),d.a.createElement(S,{handleChange:w,values:N,dataKey:"description",header:"\u0546\u056f\u0561\u0580\u0561\u0563\u0580\u0578\u0582\u0569\u0575\u0578\u0582\u0576"}),d.a.createElement(C,{handleCheck:z,handleChange:F,addBoxSize:N.addBoxSize,size:N.size,boxSize:N.boxSize}),d.a.createElement(M,{uploadProps:f,setFieldValue:D,actionStatus:s.changeImages,productId:p,images:N.photosOrder,photosOrder:N.photosOrder,saveProductImagesAction:n,showMessageAction:u}),d.a.createElement(J,{title:"\u0532\u0580\u0565\u0576\u0564",showSearch:!0,mode:null,placeholder:"Brand",name:"brand",values:N.brand,list:i.brand.list,loading:i.brand.loading,handleSearch:c,handleSelect:V("brand")}),d.a.createElement(ae,{max:99,min:0,label:"\u0536\u0565\u0572\u0579\u056b \u057f\u0578\u056f\u0578\u057d",placeholder:"elements count",type:"number",name:"percent",handleChange:P("percent"),defaultValues:N.percent}),d.a.createElement(J,{title:"\u0534\u0561\u057d\u0561\u056f\u0561\u0580\u0563\u0578\u0582\u0574",mode:"multiple",placeholder:"types",name:"types",values:N.types,list:i.types.list,loading:i.types.loading,handleSearch:c,handleSelect:V("types")}),d.a.createElement("h3",null,"\u0531\u057a\u0580\u0561\u0576\u0584\u056b \u057f\u0565\u057d\u0561\u056f"),d.a.createElement(g.a,{style:{marginTop:"15px"},onChange:function(e){D("type",e)},defaultValue:N.type},d.a.createElement(g.a.Option,{key:"product",value:"product"},"product"),d.a.createElement(g.a.Option,{key:"bug"},"bag"),d.a.createElement(g.a.Option,{key:"battery"},"battery")),d.a.createElement(J,{title:"\u0555\u0563\u057f\u0561\u056f\u0561\u0580\u0578\u0582\u0569\u0575\u0578\u0582\u0576",mode:"multiple",placeholder:"Usage",name:"usages",values:N.usages,list:i.usages.list,loading:i.usages.loading,handleSearch:c,handleSelect:V("usages")}),d.a.createElement(B,{handleChange:A,ages:j}),d.a.createElement(T,{handleChange:y,sex:N.sex}),d.a.createElement(U,{handleChange:k,checked:N.bestSeller}),d.a.createElement(re,{handleChange:I,checked:N.isNew}),d.a.createElement(J,{title:"\u0544\u0561\u0580\u057f\u056f\u0578\u0581\u0576\u0565\u0580",mode:"multiple",placeholder:"Batteries",name:"batteries",values:N.batteries,list:i.batteries.list,loading:i.batteries.loading,handleSearch:c,handleSelect:V("batteries")}),N.batteries&&N.batteries.length>0&&d.a.createElement(ae,{max:99,min:1,label:"elements count",placeholder:"elements count",type:"number",defaultValues:N.batteriesCount,handleChange:P("batteriesCount")}),d.a.createElement(J,{title:"\u0540\u0561\u057e\u0565\u056c\u0575\u0561\u056c \u0556\u056b\u056c\u057f\u0580",placeholder:"\u0540\u0561\u057e\u0565\u056c\u0575\u0561\u056c \u0556\u056b\u056c\u057f\u0580",name:"extraFilter",values:N.extraFilter,list:i.extraFilter.list,loading:i.extraFilter.loading,handleSearch:c,handleSelect:V("extraFilter")}),d.a.createElement(x,{handleChange:w,values:N,header:"meta title",dataKey:"metaTitle"}),d.a.createElement(S,{handleChange:w,values:N,dataKey:"metaDescription",header:"metaDescription"}),d.a.createElement("div",{className:"saveBtn"},d.a.createElement(r.a,{disabled:s.edit.loading,onClick:function(){return setTimeout(L,500)},id:"save",type:"primary",htmlType:"submit"},"Save")))}le.defaultProps={id:null,fileList:[]};var ce=le,ie=a(6),oe=a(740),de=a(38),se=a(31),ue=a(37),me=a(132),ge=a(41),he=a(91),pe=i.a.confirm;t.default=Object(s.b)((function(e){var t=e.tables;return{list:t.list,isFetching:t.isFetching,pages:t.pages,page:t.page,product:e.edit,searchSelectLists:e.searchSelect,editProduct:e.editProduct}}),{editFetchingAction:de.j,getTableDataAction:se.b,getTableDataResetAction:se.d,saveProductImagesAction:ue.i,searchSelectAction:me.a,saveProductEditAction:ue.e,editFetchingResetAction:de.l,showMessageAction:ge.b,deleteProductAction:ue.a,searchResetAction:he.c})((function(e){var t=e.list,a=e.page,s=e.pages,m=e.isFetching,g=e.editFetchingAction,h=e.getTableDataAction,p=e.getTableDataResetAction,f=e.saveProductImagesAction,b=e.editFetchingResetAction,v=e.showMessageAction,E=e.searchSelectLists,O=e.searchSelectAction,x=e.saveProductEditAction,y=e.deleteProductAction,S=e.editProduct,j=e.product,C=e.searchResetAction,A=Object(o.useState)([]),k=Object(c.a)(A,2),I=k[0],P=k[1],w=Object(oe.a)(ie.c.PRODUCTS,h,p,C).changePage;Object(o.useEffect)((function(){S.delete.success&&P([])}),[S.delete.success,P]),Object(o.useEffect)((function(){P([])}),[a]);var F={onChange:function(e,t){P(t.map((function(e){return e.id})))},getCheckboxProps:function(e){return{name:e.name}}},z=Object(o.useMemo)((function(){return[{title:"\u0531\u0576\u0578\u0582\u0576",render:function(e){var t,a=e.langs;if(a&&0!==a.length)return null===(t=a.find((function(e){return"ARM"===e.lang})))||void 0===t?void 0:t.name}},{title:"\u0531\u0576\u0578\u0582\u0576\u0568 \u054a\u0561\u0570\u0565\u057d\u057f\u0578\u0582\u0574",dataIndex:"xmlName"},{title:"\u0547\u057f\u0580\u056b\u056d \u056f\u0578\u0564",dataIndex:"xmlBarCode"},{title:"\u0531\u057c\u056f\u0561 \u0584\u0561\u0576\u0561\u056f",dataIndex:"xmlCount"},{title:"\u0533\u056b\u0576",dataIndex:"xmlPrice"},{title:"\u0536\u0565\u0572\u0579\u057e\u0561\u056e \u0563\u056b\u0576",dataIndex:"price"},{dataIndex:"edit",render:function(e,t){var a=t.id;return d.a.createElement(l.a,{onClick:function(){g({name:ie.c.PRODUCTS,id:a})},type:"edit"})}},{dataIndex:"delete",render:function(e,t){var a=t.id;return d.a.createElement(l.a,{onClick:function(){return pe({title:"delete selected ?",content:"are you sure you wont to delete selectes",onOk:function(){y({id:a})}})},type:"delete"})}}]}),[y,g]);return d.a.createElement("div",{className:"edit"},d.a.createElement(r.a,{className:"btn",type:"primary",disabled:!I.length,onClick:function(){return pe({title:"delete selected ?",content:"are you sure to delete selected products",className:"confirm-mod",onOk:function(){y({ids:I})}})}},"Delete"),d.a.createElement(u.g,{rowSelection:F,columns:z,loading:m,dataSource:t,pagination:!1}),d.a.createElement(n.a,{onChange:w,current:a,total:10*s}),d.a.createElement(i.a,{onCancel:function(){return b()},visible:j.isFetching||!!j.data,title:"Edit",footer:!1,style:{top:20},className:"prodMod",id:"productEdit"},j.isFetching||!j.data?"loading":d.a.createElement(ce,{product:j,searchSelectAction:O,searchSelect:E,saveProductEditAction:x,saveProductImagesAction:f,id:j.data.id,showMessageAction:v,editProduct:S})))}))}}]);
//# sourceMappingURL=9.053dc4ef.chunk.js.map